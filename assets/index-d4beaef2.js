var xs=Object.defineProperty;var Es=(i,e,t)=>e in i?xs(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var y=(i,e,t)=>(Es(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();function $(){}const Ss=i=>i;function As(i){return i&&typeof i=="object"&&typeof i.then=="function"}function en(i){return i()}function li(){return Object.create(null)}function Ie(i){i.forEach(en)}function Nr(i){return typeof i=="function"}function me(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let gt;function Ue(i,e){return gt||(gt=document.createElement("a")),gt.href=e,i===gt.href}function Os(i){return Object.keys(i).length===0}function tn(i,...e){if(i==null)return $;const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function rn(i){let e;return tn(i,t=>e=t)(),e}function J(i,e,t){i.$$.on_destroy.push(tn(e,t))}const nn=typeof window<"u";let Cs=nn?()=>window.performance.now():()=>Date.now(),Ir=nn?i=>requestAnimationFrame(i):$;const Be=new Set;function sn(i){Be.forEach(e=>{e.c(i)||(Be.delete(e),e.f())}),Be.size!==0&&Ir(sn)}function _s(i){let e;return Be.size===0&&Ir(sn),{promise:new Promise(t=>{Be.add(e={c:i,f:t})}),abort(){Be.delete(e)}}}function _(i,e){i.appendChild(e)}function on(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Ds(i){const e=C("style");return Ps(on(i),e),e.sheet}function Ps(i,e){return _(i.head||i,e),e.sheet}function F(i,e,t){i.insertBefore(e,t||null)}function P(i){i.parentNode&&i.parentNode.removeChild(i)}function C(i){return document.createElement(i)}function ve(i){return document.createTextNode(i)}function B(){return ve(" ")}function Wt(){return ve("")}function Z(i,e,t,r){return i.addEventListener(e,t,r),()=>i.removeEventListener(e,t,r)}function E(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Rs(i){return Array.from(i.childNodes)}function ht(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function K(i,e,t,r){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,r?"important":"")}function kt(i,e,t){i.classList[t?"add":"remove"](e)}function ui(i,e){return new i(e)}const $t=new Map;let Nt=0;function Fs(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function ks(i,e){const t={stylesheet:Ds(e),rules:{}};return $t.set(i,t),t}function $s(i,e,t,r,n,s,o,a=0){const l=16.666/r;let u=`{
`;for(let m=0;m<=1;m+=l){const b=e+(t-e)*s(m);u+=m*100+`%{${o(b,1-b)}}
`}const f=u+`100% {${o(t,1-t)}}
}`,c=`__svelte_${Fs(f)}_${a}`,d=on(i),{stylesheet:h,rules:p}=$t.get(d)||ks(d,i);p[c]||(p[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const w=i.style.animation||"";return i.style.animation=`${w?`${w}, `:""}${c} ${r}ms linear ${n}ms 1 both`,Nt+=1,c}function Ns(i,e){const t=(i.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),n=t.length-r.length;n&&(i.style.animation=r.join(", "),Nt-=n,Nt||Is())}function Is(){Ir(()=>{Nt||($t.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&P(e)}),$t.clear())})}function js(i,e,t,r){if(!e)return $;const n=i.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return $;const{delay:s=0,duration:o=300,easing:a=Ss,start:l=Cs()+s,end:u=l+o,tick:f=$,css:c}=t(i,{from:e,to:n},r);let d=!0,h=!1,p;function w(){c&&(p=$s(i,0,1,o,s,a,c)),s||(h=!0)}function m(){c&&Ns(i,p),d=!1}return _s(b=>{if(!h&&b>=l&&(h=!0),h&&b>=u&&(f(1,0),m()),!d)return!1;if(h){const x=b-l,g=0+1*a(x/o);f(g,1-g)}return!0}),w(),f(0,1),m}function zs(i){const e=getComputedStyle(i);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,n=i.getBoundingClientRect();i.style.position="absolute",i.style.width=t,i.style.height=r,Ms(i,n)}}function Ms(i,e){const t=i.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(i),n=r.transform==="none"?"":r.transform;i.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let nt;function we(i){nt=i}function an(){if(!nt)throw new Error("Function called outside component initialization");return nt}function ln(i){an().$$.on_mount.push(i)}const tt=[],st=[],Dt=[],fi=[],Ts=Promise.resolve();let cr=!1;function Ls(){cr||(cr=!0,Ts.then(jr))}function hr(i){Dt.push(i)}const tr=new Set;let yt=0;function jr(){const i=nt;do{for(;yt<tt.length;){const e=tt[yt];yt++,we(e),Bs(e.$$)}for(we(null),tt.length=0,yt=0;st.length;)st.pop()();for(let e=0;e<Dt.length;e+=1){const t=Dt[e];tr.has(t)||(tr.add(t),t())}Dt.length=0}while(tt.length);for(;fi.length;)fi.pop()();cr=!1,tr.clear(),we(i)}function Bs(i){if(i.fragment!==null){i.update(),Ie(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(hr)}}const Pt=new Set;let Re;function zr(){Re={r:0,c:[],p:Re}}function Mr(){Re.r||Ie(Re.c),Re=Re.p}function de(i,e){i&&i.i&&(Pt.delete(i),i.i(e))}function be(i,e,t,r){if(i&&i.o){if(Pt.has(i))return;Pt.add(i),Re.c.push(()=>{Pt.delete(i),r&&(t&&i.d(1),r())}),i.o(e)}else r&&r()}function ci(i,e){const t=e.token={};function r(n,s,o,a){if(e.token!==t)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const u=n&&(e.current=n)(l);let f=!1;e.block&&(e.blocks?e.blocks.forEach((c,d)=>{d!==s&&c&&(zr(),be(c,1,1,()=>{e.blocks[d]===c&&(e.blocks[d]=null)}),Mr())}):e.block.d(1),u.c(),de(u,1),u.m(e.mount(),e.anchor),f=!0),e.block=u,e.blocks&&(e.blocks[s]=u),f&&jr()}if(As(i)){const n=an();if(i.then(s=>{we(n),r(e.then,1,e.value,s),we(null)},s=>{if(we(n),r(e.catch,2,e.error,s),we(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,i),!0;e.resolved=i}}function Ws(i,e,t){const r=e.slice(),{resolved:n}=i;i.current===i.then&&(r[i.value]=n),i.current===i.catch&&(r[i.error]=n),i.block.p(r,t)}function un(i,e){i.d(1),e.delete(i.key)}function Us(i,e){be(i,1,1,()=>{e.delete(i.key)})}function Vs(i,e){i.f(),un(i,e)}function Tr(i,e,t,r,n,s,o,a,l,u,f,c){let d=i.length,h=s.length,p=d;const w={};for(;p--;)w[i[p].key]=p;const m=[],b=new Map,x=new Map;for(p=h;p--;){const S=c(n,s,p),R=t(S);let v=o.get(R);v?r&&v.p(S,e):(v=u(R,S),v.c()),b.set(R,m[p]=v),R in w&&x.set(R,Math.abs(p-w[R]))}const g=new Set,O=new Set;function k(S){de(S,1),S.m(a,f),o.set(S.key,S),f=S.first,h--}for(;d&&h;){const S=m[h-1],R=i[d-1],v=S.key,A=R.key;S===R?(f=S.first,d--,h--):b.has(A)?!o.has(v)||g.has(v)?k(S):O.has(A)?d--:x.get(v)>x.get(A)?(O.add(v),k(S)):(g.add(A),d--):(l(R,o),d--)}for(;d--;){const S=i[d];b.has(S.key)||l(S,o)}for(;h;)k(m[h-1]);return m}function Ve(i){i&&i.c()}function Fe(i,e,t,r){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),r||hr(()=>{const o=i.$$.on_mount.map(en).filter(Nr);i.$$.on_destroy?i.$$.on_destroy.push(...o):Ie(o),i.$$.on_mount=[]}),s.forEach(hr)}function ke(i,e){const t=i.$$;t.fragment!==null&&(Ie(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Zs(i,e){i.$$.dirty[0]===-1&&(tt.push(i),Ls(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Ee(i,e,t,r,n,s,o,a=[-1]){const l=nt;we(i);const u=i.$$={fragment:null,ctx:[],props:s,update:$,not_equal:n,bound:li(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:li(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let f=!1;if(u.ctx=t?t(i,e.props||{},(c,d,...h)=>{const p=h.length?h[0]:d;return u.ctx&&n(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&Zs(i,c)),d}):[],u.update(),f=!0,Ie(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=Rs(e.target);u.fragment&&u.fragment.l(c),c.forEach(P)}else u.fragment&&u.fragment.c();e.intro&&de(i.$$.fragment),Fe(i,e.target,e.anchor,e.customElement),jr()}we(l)}class Se{$destroy(){ke(this,1),this.$destroy=$}$on(e,t){if(!Nr(t))return $;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Os(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Me=[];function fn(i,e=$){let t;const r=new Set;function n(a){if(me(i,a)&&(i=a,t)){const l=!Me.length;for(const u of r)u[1](),Me.push(u,i);if(l){for(let u=0;u<Me.length;u+=2)Me[u][0](Me[u+1]);Me.length=0}}}function s(a){n(a(i))}function o(a,l=$){const u=[a,l];return r.add(u),r.size===1&&(t=e(n)||$),a(i),()=>{r.delete(u),r.size===0&&(t(),t=null)}}return{set:n,update:s,subscribe:o}}function qs(){return{close:!0,minimize:!0,maximize:!1}}function ee(i=void 0){let e=fn(i),t={cachedValue:void 0,set(r){t.cachedValue=r,e.set(r)},subscribe:e.subscribe,update(r){let n=r(t.cachedValue);t.cachedValue=n,e.set(n)},get:()=>t.cachedValue};return t}class Js{constructor(e,t,r,n){y(this,"stores");this.stores=new Gs(e,t,r,n)}get x(){return this.stores.x.get()}set x(e){this.stores.x.set(e)}get y(){return this.stores.y.get()}set y(e){this.stores.y.set(e)}get zIndex(){return this.stores.zIndex.get()}set zIndex(e){this.stores.zIndex.set(e)}get width(){return this.stores.width.get()}set width(e){this.stores.width.set(e)}get height(){return this.stores.height.get()}set height(e){this.stores.height.set(e)}get title(){return this.stores.title.get()}set title(e){this.stores.title.set(e)}get classes(){return this.stores.classes.get()}set classes(e){this.stores.classes.set(e)}get style(){return this.stores.style.get()}set style(e){this.stores.style.set(e)}get resizable(){return this.stores.resizable.get()}set resizable(e){this.stores.resizable.set(e)}get important(){return this.stores.important.get()}set important(e){this.stores.important.set(e)}get isVisible(){return this.stores.isVisible.get()}set isVisible(e){this.stores.isVisible.set(e)}get icon(){return this.stores.icon.get()}set icon(e){this.stores.icon.set(e)}get controlButtons(){return this.stores.controlButtons.get()}set controlButtons(e){this.stores.controlButtons.set(e)}}class Gs{constructor(e,t,r,n){y(this,"classes",ee(""));y(this,"style",ee(""));y(this,"title",ee());y(this,"icon",ee());y(this,"resizable",ee(!1));y(this,"important",ee(!1));y(this,"isVisible",ee(!0));y(this,"controlButtons",ee(qs()));y(this,"height");y(this,"width");y(this,"x");y(this,"y");y(this,"zIndex",ee(0));this.x=ee(e),this.y=ee(t),this.width=ee(r),this.height=ee(n)}}class He{constructor(e,t=void 0){y(this,"window");y(this,"listeners",[]);y(this,"listen",e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!=e)}));y(this,"trigger",(e=void 0)=>{this.listeners.forEach(t=>{t(this.window,e??this.defaultOptions)})});this.defaultOptions=t,this.window=e}}const ae=class extends Js{constructor(t,r,n,s,o){super(t,r,n,s);y(this,"_process");y(this,"windowElement");y(this,"onPopInEnd",t=>{let r=this.windowElement,n=s=>{s.animationName=="pop-in"&&(r.removeEventListener("animationend",n),t(),r.style.animationDirection="normal")};this.windowElement.addEventListener("animationend",n)});y(this,"playCloseAnimation",()=>{this.windowElement.classList.remove("window-spawn"),this.windowElement.style.animationDirection="reverse",this.windowElement.offsetWidth,this.windowElement.classList.add("window-spawn")});y(this,"kill",()=>{this.closeEvent.trigger();let t=ae.windows.filter(r=>r!=this);ae.windowsStore.set(t),this.process.getWindows().length==0&&this.process.kill()});y(this,"dragStart",new He(this));y(this,"dragStop",new He(this));y(this,"onFocus",new He(this));y(this,"onUnfocus",new He(this));y(this,"closeEvent",new He(this));this.component=o}static get activeWindow(){return this.activeWindowStore.get()}static set activeWindow(t){var r,n;t!=this.activeWindow&&((n=(r=this.activeWindow)==null?void 0:r.onUnfocus)==null||n.trigger()),t!=null&&(t.process.lastActiveWindow=t,t.onFocus.trigger()),this.activeWindowStore.set(t)}static getWindows(){return[...this.windows]}get process(){return this._process}get isAlive(){return this._process!=null}get isActive(){return ae.activeWindow==this}get isVisible(){return rn(this.stores.isVisible)}set isVisible(t){t==!1?(this.playCloseAnimation(),this.onPopInEnd(()=>{this.stores.isVisible.set(!1),ae.activeWindow==this&&(ae.activeWindow=void 0)})):this.stores.isVisible.set(!0)}hide(){this.isVisible=!1}unhide(){this.isVisible=!0}close(){this.playCloseAnimation(),this.onPopInEnd(this.kill)}};let T=ae;y(T,"windowsStore",ee([])),y(T,"windows"),y(T,"activeWindowStore",ee(void 0)),y(T,"spawn",(t,r)=>(ae.windowsStore.set([...ae.windows,t]),t._process=r,t.title==null&&(t.title=t.process.app.name),t)),(()=>{ae.windowsStore.subscribe(t=>{ae.windows=t})})();let cn=0;const rt=()=>cn++,hi=()=>cn;function di(i){let e;return{c(){e=C("div"),K(e,"height",i[2]+"px"),K(e,"width",i[5]+"px"),E(e,"class","absolute")},m(t,r){F(t,e,r)},p(t,r){r&4&&K(e,"height",t[2]+"px"),r&32&&K(e,"width",t[5]+"px")},d(t){t&&P(e)}}}function Ys(i){let e,t,r,n,s,o=i[1]&&di(i);var a=i[0].component;function l(u){return{props:{window:u[0],process:u[0].process}}}return a&&(r=ui(a,l(i))),{c(){e=C("div"),o&&o.c(),t=B(),r&&Ve(r.$$.fragment),E(e,"style",n="height: "+i[2]+"px;"+i[3]),E(e,"class",i[4])},m(u,f){F(u,e,f),o&&o.m(e,null),_(e,t),r&&Fe(r,e,null),s=!0},p(u,[f]){u[1]?o?o.p(u,f):(o=di(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null);const c={};if(f&1&&(c.window=u[0]),f&1&&(c.process=u[0].process),a!==(a=u[0].component)){if(r){zr();const d=r;be(d.$$.fragment,1,0,()=>{ke(d,1)}),Mr()}a?(r=ui(a,l(u)),Ve(r.$$.fragment),de(r.$$.fragment,1),Fe(r,e,null)):r=null}else a&&r.$set(c);(!s||f&12&&n!==(n="height: "+u[2]+"px;"+u[3]))&&E(e,"style",n),(!s||f&16)&&E(e,"class",u[4])},i(u){s||(r&&de(r.$$.fragment,u),s=!0)},o(u){r&&be(r.$$.fragment,u),s=!1},d(u){u&&P(e),o&&o.d(),r&&ke(r)}}}function Hs(i,e,t){let r,n,s,o,{window:a}=e,{notImportant:l}=e,{style:u,classes:f,height:c,width:d}=a.stores;return J(i,u,h=>t(3,n=h)),J(i,f,h=>t(4,s=h)),J(i,c,h=>t(2,r=h)),J(i,d,h=>t(5,o=h)),i.$$set=h=>{"window"in h&&t(0,a=h.window),"notImportant"in h&&t(1,l=h.notImportant)},[a,l,r,n,s,o,u,f,c,d]}class Xs extends Se{constructor(e){super(),Ee(this,e,Hs,Ys,me,{window:0,notImportant:1})}}function pi(i){let e,t,r;return{c(){e=C("img"),Ue(e.src,t=i[8])||E(e,"src",t),E(e,"alt",r=i[9]+" icon"),E(e,"height",18),E(e,"width",18),E(e,"class","ml-1.5")},m(n,s){F(n,e,s)},p(n,s){s[0]&256&&!Ue(e.src,t=n[8])&&E(e,"src",t),s[0]&512&&r!==(r=n[9]+" icon")&&E(e,"alt",r)},d(n){n&&P(e)}}}function Ks(i){let e,t;return{c(){e=C("span"),t=ve(i[9]),E(e,"class","pl-2 text-gray-400")},m(r,n){F(r,e,n),_(e,t)},p(r,n){n[0]&512&&ht(t,r[9])},d(r){r&&P(e)}}}function Qs(i){let e,t;return{c(){e=C("span"),t=ve(i[9]),E(e,"class","pl-2")},m(r,n){F(r,e,n),_(e,t)},p(r,n){n[0]&512&&ht(t,r[9])},d(r){r&&P(e)}}}function mi(i){let e,t,r;return{c(){e=C("span"),e.textContent="_",E(e,"class","pr-1.5")},m(n,s){F(n,e,s),t||(r=Z(e,"click",i[25]),t=!0)},p:$,d(n){n&&P(e),t=!1,r()}}}function gi(i){let e;return{c(){e=C("span"),e.textContent="□",E(e,"class","pr-1.5")},m(t,r){F(t,e,r)},d(t){t&&P(e)}}}function eo(i){let e;return{c(){e=C("span"),e.textContent="x",E(e,"class","text-gray-500")},m(t,r){F(t,e,r)},p:$,d(t){t&&P(e)}}}function to(i){let e,t,r;return{c(){e=C("span"),e.textContent="x"},m(n,s){F(n,e,s),t||(r=Z(e,"click",i[26]),t=!0)},p:$,d(n){n&&P(e),t=!1,r()}}}function ro(i){let e,t,r,n,s,o,a,l,u,f,c,d,h,p,w=i[8]!==void 0&&i[8].length!==0&&pi(i);function m(v,A){return v[10]===v[0]?Qs:Ks}let b=m(i),x=b(i),g=i[11].minimize&&mi(i),O=i[11].maximize&&gi();function k(v,A){return v[11].close?to:eo}let S=k(i),R=S(i);return c=new Xs({props:{window:i[0],notImportant:i[2]}}),{c(){e=C("div"),t=C("div"),r=C("div"),w&&w.c(),n=B(),x.c(),s=B(),o=C("div"),a=C("span"),g&&g.c(),l=B(),O&&O.c(),u=B(),R.c(),f=B(),Ve(c.$$.fragment),E(r,"class","flex items-center"),E(a,"class","pr-2.5 mb-1"),E(o,"class","flex items-center"),E(t,"class","h-7 flex justify-between title-bar text-sm rounded-t-md rounded-sm select-none svelte-jpt6my"),K(t,"width",i[4]-2+"px"),E(e,"class","absolute border rounded-t-md rounded-sm border-gray-800 drop-shadow-md window-spawn"),K(e,"width",i[4]+"px"),K(e,"left",i[5]+"px"),K(e,"top",i[6]+"px"),K(e,"z-index",i[7]),kt(e,"hidden",!i[3])},m(v,A){F(v,e,A),_(e,t),_(t,r),w&&w.m(r,null),_(r,n),x.m(r,null),_(t,s),_(t,o),_(o,a),g&&g.m(a,null),_(a,l),O&&O.m(a,null),_(a,u),R.m(a,null),i[27](t),_(e,f),Fe(c,e,null),i[28](e),d=!0,h||(p=[Z(t,"mousedown",i[22]),Z(t,"mouseup",i[23]),Z(t,"mousemove",i[24]),Z(e,"mousedown",i[29])],h=!0)},p(v,A){v[8]!==void 0&&v[8].length!==0?w?w.p(v,A):(w=pi(v),w.c(),w.m(r,n)):w&&(w.d(1),w=null),b===(b=m(v))&&x?x.p(v,A):(x.d(1),x=b(v),x&&(x.c(),x.m(r,null))),v[11].minimize?g?g.p(v,A):(g=mi(v),g.c(),g.m(a,l)):g&&(g.d(1),g=null),v[11].maximize?O||(O=gi(),O.c(),O.m(a,u)):O&&(O.d(1),O=null),S===(S=k(v))&&R?R.p(v,A):(R.d(1),R=S(v),R&&(R.c(),R.m(a,null))),(!d||A[0]&16)&&K(t,"width",v[4]-2+"px");const U={};A[0]&1&&(U.window=v[0]),A[0]&4&&(U.notImportant=v[2]),c.$set(U),(!d||A[0]&16)&&K(e,"width",v[4]+"px"),(!d||A[0]&32)&&K(e,"left",v[5]+"px"),(!d||A[0]&64)&&K(e,"top",v[6]+"px"),(!d||A[0]&128)&&K(e,"z-index",v[7]),(!d||A[0]&8)&&kt(e,"hidden",!v[3])},i(v){d||(de(c.$$.fragment,v),d=!0)},o(v){be(c.$$.fragment,v),d=!1},d(v){v&&P(e),w&&w.d(),x.d(),g&&g.d(),O&&O.d(),R.d(),i[27](null),ke(c),i[28](null),h=!1,Ie(p)}}}function yi(i){let e=0,t=0;if(i instanceof MouseEvent)e=i.pageX,t=i.pageY;else if(i instanceof TouchEvent){const r=i.touches[0];e=r.pageX,t=r.pageY}return[e,t]}function io(i,e,t){let r,n,s,o,a,l,u,f,c,d,{window:h}=e,{classes:p,title:w,icon:m,x:b,y:x,width:g,height:O,style:k,controlButtons:S,isVisible:R,zIndex:v}=h.stores;J(i,w,D=>t(9,f=D)),J(i,m,D=>t(8,u=D)),J(i,b,D=>t(5,o=D)),J(i,x,D=>t(6,a=D)),J(i,g,D=>t(4,s=D)),J(i,S,D=>t(11,d=D)),J(i,R,D=>t(3,n=D)),J(i,v,D=>t(7,l=D));let A,U,se,X=!1;ln(()=>{t(0,h.zIndex=rt(),h)});function ce(){r||(T.activeWindow=h,h.zIndex<=hi()&&t(0,h.zIndex=rt(),h))}let{activeWindowStore:te}=T;J(i,te,D=>t(10,c=D));function Ae(D){if(r||D instanceof MouseEvent&&D.button!==0)return;let[V,Oe]=yi(D);const _e=document.body,ai=A.getBoundingClientRect();U=V-(ai.left+_e.scrollLeft-_e.clientLeft),se=Oe-(ai.top+_e.scrollTop-_e.clientTop),X=!0,h.zIndex<=hi()&&t(0,h.zIndex=rt(),h),D instanceof MouseEvent&&D.preventDefault(),document.addEventListener("mousemove",De=>{re(De)}),document.addEventListener("mouseup",De=>{oe(De)}),document.addEventListener("touchmove",De=>{re(De)},{passive:!1}),document.addEventListener("touchend",De=>{oe(De)},{passive:!1}),h.dragStart.trigger()}function oe(D){D instanceof MouseEvent&&D.button!==0||(X=!1,D instanceof MouseEvent&&D.preventDefault(),document.removeEventListener("mousemove",V=>{re(V)}),document.removeEventListener("mouseup",V=>{oe(V)}),document.removeEventListener("touchmove",V=>{re(V)}),document.removeEventListener("touchend",V=>{oe(V)}),h.dragStop.trigger())}function re(D){if(r||!X)return;let[V,Oe]=yi(D);t(0,h.x=V-(U??0),h),t(0,h.y=Oe-(se??0),h),D.preventDefault()}const Ye=()=>h.hide(),Kt=()=>h.close();function Qt(D){st[D?"unshift":"push"](()=>{A=D,t(1,A)})}function er(D){st[D?"unshift":"push"](()=>{h.windowElement=D,t(0,h)})}const q=()=>ce();return i.$$set=D=>{"window"in D&&t(0,h=D.window)},i.$$.update=()=>{i.$$.dirty[0]&1&&t(2,r=h.process.getImportantWindows().length!=0&&!h.important)},[h,A,r,n,s,o,a,l,u,f,c,d,w,m,b,x,g,S,R,v,ce,te,Ae,oe,re,Ye,Kt,Qt,er,q]}class no extends Se{constructor(e){super(),Ee(this,e,io,ro,me,{window:0},null,[-1,-1])}}function wi(i,e,t){const r=i.slice();return r[3]=e[t],r}function vi(i,e){let t,r,n;return r=new no({props:{window:e[3]}}),{key:i,first:null,c(){t=Wt(),Ve(r.$$.fragment),this.first=t},m(s,o){F(s,t,o),Fe(r,s,o),n=!0},p(s,o){e=s;const a={};o&1&&(a.window=e[3]),r.$set(a)},i(s){n||(de(r.$$.fragment,s),n=!0)},o(s){be(r.$$.fragment,s),n=!1},d(s){s&&P(t),ke(r,s)}}}function so(i){let e=[],t=new Map,r,n,s=i[0];const o=a=>a[3];for(let a=0;a<s.length;a+=1){let l=wi(i,s,a),u=o(l);t.set(u,e[a]=vi(u,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Wt()},m(a,l){for(let u=0;u<e.length;u+=1)e[u].m(a,l);F(a,r,l),n=!0},p(a,[l]){l&1&&(s=a[0],zr(),e=Tr(e,l,o,1,a,s,t,r.parentNode,Us,vi,r,wi),Mr())},i(a){if(!n){for(let l=0;l<s.length;l+=1)de(e[l]);n=!0}},o(a){for(let l=0;l<e.length;l+=1)be(e[l]);n=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&P(r)}}}function oo(i,e,t){let r,n,s=T.windowsStore;return J(i,s,o=>t(2,n=o)),i.$$.update=()=>{i.$$.dirty&4&&t(0,r=n)},[r,s,n]}class ao extends Se{constructor(e){super(),Ee(this,e,oo,so,me,{})}}const hn="/assets/mastrielIcon-6c62ac08.svg",Le=class{constructor(e,t,r=hn){this.name=e,this.mainWindow=t,this.icon=r}};let ie=Le;y(ie,"registeredApps",[]),y(ie,"registerApp",e=>{Le.registeredApps.push(e)}),y(ie,"getApp",e=>Le.registeredApps.find(t=>t.name==e)),y(ie,"getAllApps",()=>[...Le.registeredApps]),y(ie,"getAppByType",e=>{let t=Le.registeredApps.find(r=>r instanceof e);if(t==null)throw new Error("Invalid app specified. Is it registered?");return t});let bi=0;function lo(){return bi++,bi-1}function xi(i){let e,t,r;return{c(){e=C("button"),e.textContent="Continue"},m(n,s){F(n,e,s),t||(r=Z(e,"mousedown",i[3]),t=!0)},p:$,d(n){n&&P(e),t=!1,r()}}}function uo(i){let e,t,r,n,s=i[0].message+"",o,a,l,u,f,c,d,h=!i[0].unrecoverable&&xi(i);return{c(){e=C("div"),t=C("div"),r=C("div"),n=C("span"),o=ve(s),a=B(),l=C("div"),h&&h.c(),u=B(),f=C("button"),f.textContent="End Process",E(n,"class","text-center error-message whitespace-pre-line select-text svelte-wbgunv"),E(n,"style",""),E(r,"class","flex justify-center"),E(t,"class","h-20 error-message overflow-y-scroll scrollbar-hide svelte-wbgunv"),K(t,"width",i[1]+"px"),E(e,"class","bg-red-800 border-b border-b-red-700 pt-3 drop-shadow-xl"),E(l,"class","flex justify-around pt-5")},m(p,w){F(p,e,w),_(e,t),_(t,r),_(r,n),_(n,o),F(p,a,w),F(p,l,w),h&&h.m(l,null),_(l,u),_(l,f),c||(d=Z(f,"mousedown",i[4]),c=!0)},p(p,[w]){w&1&&s!==(s=p[0].message+"")&&ht(o,s),w&2&&K(t,"width",p[1]+"px"),p[0].unrecoverable?h&&(h.d(1),h=null):h?h.p(p,w):(h=xi(p),h.c(),h.m(l,u))},i:$,o:$,d(p){p&&P(e),p&&P(a),p&&P(l),h&&h.d(),c=!1,d()}}}function fo(i,e,t){let r,{process:n}=e,{window:s}=e,{width:o}=s.stores;J(i,o,u=>t(1,r=u)),s.classes="bg-red-900",s.title=s.errorTitle,s.important=!0,s.controlButtons={maximize:!1,minimize:!1,close:!1},T.activeWindow=s,s.closeEvent.listen(()=>{T.activeWindow=s.spawner});const a=()=>{s.close(),T.activeWindow=n.mainWindow},l=()=>{n.kill()};return i.$$set=u=>{"process"in u&&t(5,n=u.process),"window"in u&&t(0,s=u.window)},[s,r,o,a,l,n]}class co extends Se{constructor(e){super(),Ee(this,e,fo,uo,me,{process:5,window:0})}}class Ei extends T{constructor(e,t,r,n=!1){super(500,500,400,160,co),this.errorTitle=e,this.message=t,this.spawner=r,this.unrecoverable=n}}const Pe=class{constructor(e,t,r){y(this,"id");y(this,"app");y(this,"mainWindow");y(this,"lastActiveWindow");y(this,"options");y(this,"spawnWindow",e=>T.spawn(e,this));y(this,"kill",()=>{for(const e of this.getWindows())e.close();Pe.processesStore.update(e=>e.filter(t=>t!=this))});y(this,"crash",(e,t)=>{this.spawnWindow(new Ei("Fatal Error",`${this.app.name} has crashed:
${e}`,t,!0))});y(this,"error",(e,t)=>{this.spawnWindow(new Ei("Error",`An error has occurred in ${this.app.name}:
${e}


hi`,t,!1))});this.id=t,this.app=e,r!=null&&(this.options=r)}getWindows(){return T.getWindows().filter(e=>e.process==this)??[]}getImportantWindows(){return this.getWindows().filter(e=>e.important)??[]}static mergeOptions(e,t){return{...t,...e}}};let ye=Pe;y(ye,"processesStore",fn([])),y(ye,"getProcesses",()=>rn(Pe.processesStore)),y(ye,"spawn",(e,t)=>{let r=ie.getAppByType(e),n=Pe.mergeOptions(t,e.defaultOptions),s=new Pe(r,lo(),n);Pe.processesStore.update(a=>[...a,s]);let o=new T(300,300,400,400,r.mainWindow);return s.mainWindow=T.spawn(o,s),s.lastActiveWindow=s.mainWindow,s});function ho(i){const e=i-1;return e*e*e+1}function po(i,{from:e,to:t},r={}){const n=getComputedStyle(i),s=n.transform==="none"?"":n.transform,[o,a]=n.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*o/t.width-(t.left+o),u=e.top+e.height*a/t.height-(t.top+a),{delay:f=0,duration:c=h=>Math.sqrt(h)*120,easing:d=ho}=r;return{delay:f,duration:Nr(c)?c(Math.sqrt(l*l+u*u)):c,easing:d,css:(h,p)=>{const w=p*l,m=p*u,b=h+p*e.width/t.width,x=h+p*e.height/t.height;return`transform: ${s} translate(${w}px, ${m}px) scale(${b}, ${x});`}}}function Si(i,e,t){const r=i.slice();return r[11]=e[t],r}function mo(i){let e;return{c(){e=C("span"),e.textContent=".",E(e,"class","text-center block")},m(t,r){F(t,e,r)},d(t){t&&P(e)}}}function go(i){let e;return{c(){e=C("span"),e.textContent="_",E(e,"class","text-center block")},m(t,r){F(t,e,r)},d(t){t&&P(e)}}}function Ai(i,e){let t,r,n,s,o,a,l,u,f,c=$,d,h;function p(x,g){return g&3&&(a=null),a==null&&(a=!!x[0](x[11])),a?go:mo}let w=p(e,-1),m=w(e);function b(){return e[6](e[11])}return{key:i,first:null,c(){t=C("div"),r=C("img"),o=B(),m.c(),l=B(),Ue(r.src,n=e[11].app.icon)||E(r,"src",n),E(r,"width","30"),E(r,"height","30"),E(r,"alt",s=`${e[11].app.name}`),E(r,"class","translate-y-2.5"),E(t,"class",u=(e[0](e[11])?"selected":"unselected")+" process svelte-1h8nwke"),this.first=t},m(x,g){F(x,t,g),_(t,r),_(t,o),m.m(t,null),_(t,l),d||(h=Z(t,"click",b),d=!0)},p(x,g){e=x,g&2&&!Ue(r.src,n=e[11].app.icon)&&E(r,"src",n),g&2&&s!==(s=`${e[11].app.name}`)&&E(r,"alt",s),w!==(w=p(e,g))&&(m.d(1),m=w(e),m&&(m.c(),m.m(t,l))),g&3&&u!==(u=(e[0](e[11])?"selected":"unselected")+" process svelte-1h8nwke")&&E(t,"class",u)},r(){f=t.getBoundingClientRect()},f(){zs(t),c()},a(){c(),c=js(t,f,po,{duration:200})},d(x){x&&P(t),m.d(),d=!1,h()}}}function yo(i){let e,t,r,n,s,o,a=[],l=new Map,u=i[1];const f=c=>c[11];for(let c=0;c<u.length;c+=1){let d=Si(i,u,c),h=f(d);l.set(h,a[c]=Ai(h,d))}return{c(){e=C("div"),e.innerHTML='<div class="h-12 w-screen z-0 bg-taskbar svelte-1h8nwke"></div>',t=B(),r=C("div"),r.innerHTML='<div class="h-12 w-screen max-z-index bg-taskbar-blur svelte-1h8nwke"></div>',n=B(),s=C("div"),o=C("div");for(let c=0;c<a.length;c+=1)a[c].c();E(e,"class","fixed bottom-0 z-0"),E(r,"class","fixed bottom-0 max-z-index svelte-1h8nwke"),E(o,"class","h-12 w-screen max-z-index taskbar-contents flex items-center justify-center gap-1 svelte-1h8nwke"),E(s,"class","fixed bottom-0 max-z-index svelte-1h8nwke")},m(c,d){F(c,e,d),F(c,t,d),F(c,r,d),F(c,n,d),F(c,s,d),_(s,o);for(let h=0;h<a.length;h+=1)a[h].m(o,null)},p(c,[d]){if(d&19){u=c[1];for(let h=0;h<a.length;h+=1)a[h].r();a=Tr(a,d,f,1,c,u,l,o,Vs,Ai,null,Si);for(let h=0;h<a.length;h+=1)a[h].a()}},i:$,o:$,d(c){c&&P(e),c&&P(t),c&&P(r),c&&P(n),c&&P(s);for(let d=0;d<a.length;d+=1)a[d].d()}}}function wo(i,e,t){let r,n,s,o=ye.processesStore;J(i,o,h=>t(1,s=h));let a=T.activeWindowStore;J(i,a,h=>t(5,n=h));const l=h=>{r(h)?f(h):(u(h),c(h))},u=h=>{console.log(h),h.getWindows().forEach(p=>{p.unhide(),p.zIndex=rt()})},f=h=>{h.getWindows().forEach(p=>{p.hide(),T.activeWindow=void 0})},c=h=>{T.activeWindow=h.lastActiveWindow,console.log("Focus!"),h.getWindows().sort(p=>p.zIndex).forEach(p=>{console.log("Window!"),p.zIndex=rt()})},d=h=>l(h);return i.$$.update=()=>{i.$$.dirty&32&&t(0,r=h=>(n==null?void 0:n.process)===h)},[r,s,o,a,l,n,d]}class vo extends Se{constructor(e){super(),Ee(this,e,wo,yo,me,{})}}function bo(i){let e,t,r,n,s,o,a,l,u;return o=new ao({}),l=new vo({}),{c(){e=C("div"),t=C("img"),n=B(),s=C("div"),Ve(o.$$.fragment),a=B(),Ve(l.$$.fragment),Ue(t.src,r=hn)||E(t,"src",r),E(t,"alt","Site icon"),E(t,"height",256),E(t,"width",256),E(t,"class","drop-shadow-3xl"),E(e,"class","flex items-center justify-center h-screen w-screen absolute"),E(s,"class","absolute")},m(f,c){F(f,e,c),_(e,t),F(f,n,c),F(f,s,c),Fe(o,s,null),F(f,a,c),Fe(l,f,c),u=!0},p:$,i(f){u||(de(o.$$.fragment,f),de(l.$$.fragment,f),u=!0)},o(f){be(o.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&P(e),f&&P(n),f&&P(s),ke(o),f&&P(a),ke(l,f)}}}class xo extends Se{constructor(e){super(),Ee(this,e,null,bo,me,{})}}function Eo(i){return i[Math.floor(Math.random()*i.length)]}function So(i){return Math.floor(Math.random()*i)}const dn="/assets/consoleIcon-9d1dc8de.svg",Ao=i=>new Promise(e=>setTimeout(e,i)),Oo="/assets/chatroomIcon-cd53aa5d.svg";function Co(i){let e,t,r;return{c(){e=C("iframe"),E(e,"class",t="w-full h-full "+(i[2]===i[0]?"pointer-events-auto":"pointer-events-none")),Ue(e.src,r="https://chatroom-d29ab.web.app/")||E(e,"src",r)},m(n,s){F(n,e,s),i[5](e)},p(n,[s]){s&5&&t!==(t="w-full h-full "+(n[2]===n[0]?"pointer-events-auto":"pointer-events-none"))&&E(e,"class",t)},i:$,o:$,d(n){n&&P(e),i[5](null)}}}function _o(i,e,t){let r,{process:n}=e,{window:s}=e;s.icon=n.app.icon,s.width=600,s.height=600;let o;const a=()=>{o!=null&&t(1,o.style.pointerEvents="none",o)},l=()=>{o!=null&&t(1,o.style.pointerEvents="",o)};s.dragStart.listen(()=>{a()}),s.dragStop.listen(()=>{l()});let u=T.activeWindowStore;J(i,u,c=>t(2,r=c));function f(c){st[c?"unshift":"push"](()=>{o=c,t(1,o)})}return i.$$set=c=>{"process"in c&&t(4,n=c.process),"window"in c&&t(0,s=c.window)},[s,o,r,u,n,f]}class Do extends Se{constructor(e){super(),Ee(this,e,_o,Co,me,{process:4,window:0})}}class pn extends ie{constructor(){super("Chatroom",Do,Oo)}}function mn(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var n=[null];n.push.apply(n,arguments);var s=Function.bind.apply(e,n);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var n=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return i[r]}})}),t}var It={},Po={get exports(){return It},set exports(i){It=i}},L=String,gn=function(){return{isColorSupported:!1,reset:L,bold:L,dim:L,italic:L,underline:L,inverse:L,hidden:L,strikethrough:L,black:L,red:L,green:L,yellow:L,blue:L,magenta:L,cyan:L,white:L,gray:L,bgBlack:L,bgRed:L,bgGreen:L,bgYellow:L,bgBlue:L,bgMagenta:L,bgCyan:L,bgWhite:L}};Po.exports=gn();It.createColors=gn;const Ro={},Fo=Object.freeze(Object.defineProperty({__proto__:null,default:Ro},Symbol.toStringTag,{value:"Module"})),fe=mn(Fo);let Oi=It,Ci=fe,jt=class extends Error{constructor(e,t,r,n,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),n&&(this.source=n),o&&(this.plugin=o),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,jt)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Oi.isColorSupported),Ci&&e&&(t=Ci(t));let r=t.split(/\r?\n/),n=Math.max(this.line-3,0),s=Math.min(this.line+2,r.length),o=String(s).length,a,l;if(e){let{bold:u,red:f,gray:c}=Oi.createColors(!0);a=d=>u(f(d)),l=d=>c(d)}else a=l=u=>u;return r.slice(n,s).map((u,f)=>{let c=n+1+f,d=" "+(" "+c).slice(-o)+" | ";if(c===this.line){let h=l(d.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return a(">")+l(d)+u+`
 `+h+a("^")}return" "+l(d)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var Lr=jt;jt.default=jt;var dt={};dt.isClean=Symbol("isClean");dt.my=Symbol("my");const _i={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function ko(i){return i[0].toUpperCase()+i.slice(1)}let dr=class{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let s=(e.raws.between||"")+(t?";":"");this.builder(r+n+s,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==n||r)}}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let n;e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}raw(e,t,r){let n;if(r||(r=t),t&&(n=e.raws[t],typeof n<"u"))return n;let s=e.parent;if(r==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return _i[r];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[r]<"u")return o.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let a="raw"+ko(r);this[a]?n=this[a](o,e):o.walk(l=>{if(n=l.raws[t],typeof n<"u")return!1})}return typeof n>"u"&&(n=_i[r]),o.rawCache[r]=n,n}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&typeof r.raws.before<"u"){let s=r.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawBeforeComment(e,t){let r;return e.walkComments(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let n=e.parent,s=0;for(;n&&n.type!=="root";)s+=1,n=n.parent;if(r.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let a=0;a<s;a++)r+=o}return r}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}};var yn=dr;dr.default=dr;let $o=yn;function pr(i,e){new $o(e).stringify(i)}var Ut=pr;pr.default=pr;let{isClean:wt,my:No}=dt,Io=Lr,jo=yn,zo=Ut;function mr(i,e){let t=new i.constructor;for(let r in i){if(!Object.prototype.hasOwnProperty.call(i,r)||r==="proxyCache")continue;let n=i[r],s=typeof n;r==="parent"&&s==="object"?e&&(t[r]=e):r==="source"?t[r]=n:Array.isArray(n)?t[r]=n.map(o=>mr(o,t)):(s==="object"&&n!==null&&(n=mr(n)),t[r]=n)}return t}let gr=class{constructor(e={}){this.raws={},this[wt]=!1,this[No]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}error(e,t={}){if(this.source){let{start:r,end:n}=this.rangeBy(t);return this.source.input.error(e,{line:r.line,column:r.column},{line:n.line,column:n.column},t)}return new Io(e)}warn(e,t,r){let n={node:this};for(let s in r)n[s]=r[s];return e.warn(t,n)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=zo){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}assign(e={}){for(let t in e)this[t]=e[t];return this}clone(e={}){let t=mr(this);for(let r in e)t[r]=e[r];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}raw(e,t){return new jo().raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,t){let r={},n=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let a=this[o];if(Array.isArray(a))r[o]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,t):l);else if(typeof a=="object"&&a.toJSON)r[o]=a.toJSON(null,t);else if(o==="source"){let l=t.get(a.input);l==null&&(l=s,t.set(a.input,s),s++),r[o]={inputId:l,start:a.start,end:a.end}}else r[o]=a}return n&&(r.inputs=[...t.keys()].map(o=>o.toJSON())),r}positionInside(e){let t=this.toString(),r=this.source.start.column,n=this.source.start.line;for(let s=0;s<e;s++)t[s]===`
`?(r=1,n+=1):r+=1;return{line:n,column:r}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let r=this.toString().indexOf(e.word);r!==-1&&(t=this.positionInside(r))}return t}rangeBy(e){let t={line:this.source.start.line,column:this.source.start.column},r=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:t.line,column:t.column+1};if(e.word){let n=this.toString().indexOf(e.word);n!==-1&&(t=this.positionInside(n),r=this.positionInside(n+e.word.length))}else e.start?t={line:e.start.line,column:e.start.column}:e.index&&(t=this.positionInside(e.index)),e.end?r={line:e.end.line,column:e.end.column}:e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={line:t.line,column:t.column+1}),{start:t,end:r}}getProxyProcessor(){return{set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0},get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[wt]){this[wt]=!1;let e=this;for(;e=e.parent;)e[wt]=!1}}get proxyOf(){return this}};var Vt=gr;gr.default=gr;let Mo=Vt,yr=class extends Mo{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Zt=yr;yr.default=yr;let To="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Lo=(i,e=21)=>(t=e)=>{let r="",n=t;for(;n--;)r+=i[Math.random()*i.length|0];return r},Bo=(i=21)=>{let e="",t=i;for(;t--;)e+=To[Math.random()*64|0];return e};const Wo=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:Lo,nanoid:Bo},Symbol.toStringTag,{value:"Module"})),Uo=mn(Wo);let{SourceMapConsumer:Di,SourceMapGenerator:Pi}=fe,{existsSync:Vo,readFileSync:Zo}=fe,{dirname:rr,join:qo}=fe;function Jo(i){return Buffer?Buffer.from(i,"base64").toString():window.atob(i)}let wr=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=rr(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new Di(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return e?e.substr(0,t.length)===t:!1}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,n=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(n.test(e)||s.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return Jo(e.substr(RegExp.lastMatch.length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}loadFile(e){if(this.root=rr(e),Vo(e))return this.mapFile=e,Zo(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(t instanceof Di)return Pi.fromSourceMap(t).toString();if(t instanceof Pi)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=qo(rr(e),r)),this.loadFile(r)}}}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}};var wn=wr;wr.default=wr;let{SourceMapConsumer:Go,SourceMapGenerator:Yo}=fe,{fileURLToPath:Ri,pathToFileURL:vt}=fe,{resolve:vr,isAbsolute:br}=fe,{nanoid:Ho}=Uo,ir=fe,Fi=Lr,Xo=wn,nr=Symbol("fromOffsetCache"),Ko=Boolean(Go&&Yo),ki=Boolean(vr&&br),zt=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!ki||/^\w+:\/\//.test(t.from)||br(t.from)?this.file=t.from:this.file=vr(t.from)),ki&&Ko){let r=new Xo(this.css,t);if(r.text){this.map=r;let n=r.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+Ho(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t,r;if(this[nr])r=this[nr];else{let s=this.css.split(`
`);r=new Array(s.length);let o=0;for(let a=0,l=s.length;a<l;a++)r[a]=o,o+=s[a].length+1;this[nr]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let s=r.length-2,o;for(;n<s;)if(o=n+(s-n>>1),e<r[o])s=o-1;else if(e>=r[o+1])n=o+1;else{n=o;break}}return{line:n+1,col:e-r[n]+1}}error(e,t,r,n={}){let s,o,a;if(t&&typeof t=="object"){let u=t,f=r;if(typeof u.offset=="number"){let c=this.fromOffset(u.offset);t=c.line,r=c.col}else t=u.line,r=u.column;if(typeof f.offset=="number"){let c=this.fromOffset(f.offset);o=c.line,a=c.col}else o=f.line,a=f.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let l=this.origin(t,r,o,a);return l?s=new Fi(e,l.endLine===void 0?l.line:{line:l.line,column:l.column},l.endLine===void 0?l.column:{line:l.endLine,column:l.endColumn},l.source,l.file,n.plugin):s=new Fi(e,o===void 0?t:{line:t,column:r},o===void 0?r:{line:o,column:a},this.css,this.file,n.plugin),s.input={line:t,column:r,endLine:o,endColumn:a,source:this.css},this.file&&(vt&&(s.input.url=vt(this.file).toString()),s.input.file=this.file),s}origin(e,t,r,n){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({line:e,column:t});if(!o.source)return!1;let a;typeof r=="number"&&(a=s.originalPositionFor({line:r,column:n}));let l;br(o.source)?l=vt(o.source):l=new URL(o.source,this.map.consumer().sourceRoot||vt(this.map.mapFile));let u={url:l.toString(),line:o.line,column:o.column,endLine:a&&a.line,endColumn:a&&a.column};if(l.protocol==="file:")if(Ri)u.file=Ri(l);else throw new Error("file: protocol is not available in this PostCSS build");let f=s.sourceContentFor(o.source);return f&&(u.source=f),u}mapResolve(e){return/^\w+:\/\//.test(e)?e:vr(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}};var qt=zt;zt.default=zt;ir&&ir.registerInput&&ir.registerInput(zt);let{SourceMapConsumer:vn,SourceMapGenerator:Rt}=fe,{dirname:Ft,resolve:bn,relative:xn,sep:En}=fe,{pathToFileURL:$i}=fe,Qo=qt,ea=Boolean(vn&&Rt),ta=Boolean(Ft&&bn&&xn&&En),ra=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new Qo(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||Ft(e.file),n;this.mapOpts.sourcesContent===!1?(n=new vn(e.text),n.sourcesContent&&(n.sourcesContent=n.sourcesContent.map(()=>null))):n=e.consumer(),this.map.applySourceMap(n,t,this.toUrl(this.path(r)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Rt.fromSourceMap(e)}else this.map=new Rt({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(e.indexOf("<")===0||/^\w+:\/\//.test(e)||this.mapOpts.absolute)return e;let t=this.opts.to?Ft(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(t=Ft(bn(t,this.mapOpts.annotation))),e=xn(t,e),e}toUrl(e){return En==="\\"&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}toFileUrl(e){if($i)return $i(e).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new Rt({file:this.outputFile()});let e=1,t=1,r="<no source>",n={source:"",generated:{line:0,column:0},original:{line:0,column:0}},s,o;this.stringify(this.root,(a,l,u)=>{if(this.css+=a,l&&u!=="end"&&(n.generated.line=e,n.generated.column=t-1,l.source&&l.source.start?(n.source=this.sourcePath(l),n.original.line=l.source.start.line,n.original.column=l.source.start.column-1,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,this.map.addMapping(n))),s=a.match(/\n/g),s?(e+=s.length,o=a.lastIndexOf(`
`),t=a.length-o):t+=a.length,l&&u!=="start"){let f=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==f.last||f.raws.semicolon)&&(l.source&&l.source.end?(n.source=this.sourcePath(l),n.original.line=l.source.end.line,n.original.column=l.source.end.column-1,n.generated.line=e,n.generated.column=t-2,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,n.generated.line=e,n.generated.column=t-1,this.map.addMapping(n)))}})}generate(){if(this.clearAnnotation(),ta&&ea&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}};var Sn=ra;let ia=Vt,xr=class extends ia{constructor(e){super(e),this.type="comment"}};var Jt=xr;xr.default=xr;let{isClean:An,my:On}=dt,Cn=Zt,_n=Jt,na=Vt,Dn,Br,Wr,Pn;function Rn(i){return i.map(e=>(e.nodes&&(e.nodes=Rn(e.nodes)),delete e.source,e))}function Fn(i){if(i[An]=!1,i.proxyOf.nodes)for(let e of i.proxyOf.nodes)Fn(e)}let pe=class extends na{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,n;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],n=e(this.proxyOf.nodes[r],r),n!==!1);)this.indexes[t]+=1;return delete this.indexes[t],n}walk(e){return this.each((t,r)=>{let n;try{n=e(t,r)}catch(s){throw t.addToError(s)}return n!==!1&&t.walk&&(n=t.walk(e)),n})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,n)}):this.walk((r,n)=>{if(r.type==="decl"&&r.prop===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="decl")return t(r,n)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,n)}):this.walk((r,n)=>{if(r.type==="rule"&&r.selector===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="rule")return t(r,n)}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,n)}):this.walk((r,n)=>{if(r.type==="atrule"&&r.name===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="atrule")return t(r,n)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let n of r)this.proxyOf.nodes.push(n)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let n of r)this.proxyOf.nodes.unshift(n);for(let n in this.indexes)this.indexes[n]=this.indexes[n]+r.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){let r=this.index(e),n=r===0?"prepend":!1,s=this.normalize(t,this.proxyOf.nodes[r],n).reverse();r=this.index(e);for(let a of s)this.proxyOf.nodes.splice(r,0,a);let o;for(let a in this.indexes)o=this.indexes[a],r<=o&&(this.indexes[a]=o+s.length);return this.markDirty(),this}insertAfter(e,t){let r=this.index(e),n=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let o of n)this.proxyOf.nodes.splice(r+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],r<s&&(this.indexes[o]=s+n.length);return this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))}),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if(typeof e=="string")e=Rn(Dn(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let n of e)n.parent&&n.parent.removeChild(n,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let n of e)n.parent&&n.parent.removeChild(n,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new Cn(e)]}else if(e.selector)e=[new Br(e)];else if(e.name)e=[new Wr(e)];else if(e.text)e=[new _n(e)];else throw new Error("Unknown node type in node creation");return e.map(n=>(n[On]||pe.rebuild(n),n=n.proxyOf,n.parent&&n.parent.removeChild(n),n[An]&&Fn(n),typeof n.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(n.raws.before=t.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}getProxyProcessor(){return{set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0},get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(n=>typeof n=="function"?(s,o)=>n(s.toProxy(),o):n)):t==="every"||t==="some"?r=>e[t]((n,...s)=>r(n.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}};pe.registerParse=i=>{Dn=i};pe.registerRule=i=>{Br=i};pe.registerAtRule=i=>{Wr=i};pe.registerRoot=i=>{Pn=i};var je=pe;pe.default=pe;pe.rebuild=i=>{i.type==="atrule"?Object.setPrototypeOf(i,Wr.prototype):i.type==="rule"?Object.setPrototypeOf(i,Br.prototype):i.type==="decl"?Object.setPrototypeOf(i,Cn.prototype):i.type==="comment"?Object.setPrototypeOf(i,_n.prototype):i.type==="root"&&Object.setPrototypeOf(i,Pn.prototype),i[On]=!0,i.nodes&&i.nodes.forEach(e=>{pe.rebuild(e)})};let sa=je,kn,$n,ot=class extends sa{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new kn(new $n,this,e).stringify()}};ot.registerLazyResult=i=>{kn=i};ot.registerProcessor=i=>{$n=i};var Ur=ot;ot.default=ot;let Er=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Nn=Er;Er.default=Er;let oa=Nn,Sr=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new oa(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var Vr=Sr;Sr.default=Sr;const sr="'".charCodeAt(0),Ni='"'.charCodeAt(0),bt="\\".charCodeAt(0),Ii="/".charCodeAt(0),xt=`
`.charCodeAt(0),Xe=" ".charCodeAt(0),Et="\f".charCodeAt(0),St="	".charCodeAt(0),At="\r".charCodeAt(0),aa="[".charCodeAt(0),la="]".charCodeAt(0),ua="(".charCodeAt(0),fa=")".charCodeAt(0),ca="{".charCodeAt(0),ha="}".charCodeAt(0),da=";".charCodeAt(0),pa="*".charCodeAt(0),ma=":".charCodeAt(0),ga="@".charCodeAt(0),Ot=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ct=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,ya=/.[\n"'(/\\]/,ji=/[\da-f]/i;var wa=function(e,t={}){let r=e.css.valueOf(),n=t.ignoreErrors,s,o,a,l,u,f,c,d,h,p,w=r.length,m=0,b=[],x=[];function g(){return m}function O(v){throw e.error("Unclosed "+v,m)}function k(){return x.length===0&&m>=w}function S(v){if(x.length)return x.pop();if(m>=w)return;let A=v?v.ignoreUnclosed:!1;switch(s=r.charCodeAt(m),s){case xt:case Xe:case St:case At:case Et:{o=m;do o+=1,s=r.charCodeAt(o);while(s===Xe||s===xt||s===St||s===At||s===Et);p=["space",r.slice(m,o)],m=o-1;break}case aa:case la:case ca:case ha:case ma:case da:case fa:{let U=String.fromCharCode(s);p=[U,U,m];break}case ua:{if(d=b.length?b.pop()[1]:"",h=r.charCodeAt(m+1),d==="url"&&h!==sr&&h!==Ni&&h!==Xe&&h!==xt&&h!==St&&h!==Et&&h!==At){o=m;do{if(f=!1,o=r.indexOf(")",o+1),o===-1)if(n||A){o=m;break}else O("bracket");for(c=o;r.charCodeAt(c-1)===bt;)c-=1,f=!f}while(f);p=["brackets",r.slice(m,o+1),m,o],m=o}else o=r.indexOf(")",m+1),l=r.slice(m,o+1),o===-1||ya.test(l)?p=["(","(",m]:(p=["brackets",l,m,o],m=o);break}case sr:case Ni:{a=s===sr?"'":'"',o=m;do{if(f=!1,o=r.indexOf(a,o+1),o===-1)if(n||A){o=m+1;break}else O("string");for(c=o;r.charCodeAt(c-1)===bt;)c-=1,f=!f}while(f);p=["string",r.slice(m,o+1),m,o],m=o;break}case ga:{Ot.lastIndex=m+1,Ot.test(r),Ot.lastIndex===0?o=r.length-1:o=Ot.lastIndex-2,p=["at-word",r.slice(m,o+1),m,o],m=o;break}case bt:{for(o=m,u=!0;r.charCodeAt(o+1)===bt;)o+=1,u=!u;if(s=r.charCodeAt(o+1),u&&s!==Ii&&s!==Xe&&s!==xt&&s!==St&&s!==At&&s!==Et&&(o+=1,ji.test(r.charAt(o)))){for(;ji.test(r.charAt(o+1));)o+=1;r.charCodeAt(o+1)===Xe&&(o+=1)}p=["word",r.slice(m,o+1),m,o],m=o;break}default:{s===Ii&&r.charCodeAt(m+1)===pa?(o=r.indexOf("*/",m+2)+1,o===0&&(n||A?o=r.length:O("comment")),p=["comment",r.slice(m,o+1),m,o],m=o):(Ct.lastIndex=m+1,Ct.test(r),Ct.lastIndex===0?o=r.length-1:o=Ct.lastIndex-2,p=["word",r.slice(m,o+1),m,o],b.push(p),m=o);break}}return m++,p}function R(v){x.push(v)}return{back:R,nextToken:S,endOfFile:k,position:g}};let In=je,Mt=class extends In{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var Zr=Mt;Mt.default=Mt;In.registerAtRule(Mt);let jn=je,zn,Mn,Ze=class extends jn{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}normalize(e,t,r){let n=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of n)s.raws.before=t.raws.before}return n}toResult(e={}){return new zn(new Mn,this,e).stringify()}};Ze.registerLazyResult=i=>{zn=i};Ze.registerProcessor=i=>{Mn=i};var pt=Ze;Ze.default=Ze;jn.registerRoot(Ze);let at={split(i,e,t){let r=[],n="",s=!1,o=0,a=!1,l="",u=!1;for(let f of i)u?u=!1:f==="\\"?u=!0:a?f===l&&(a=!1):f==='"'||f==="'"?(a=!0,l=f):f==="("?o+=1:f===")"?o>0&&(o-=1):o===0&&e.includes(f)&&(s=!0),s?(n!==""&&r.push(n.trim()),n="",s=!1):n+=f;return(t||n!=="")&&r.push(n.trim()),r},space(i){let e=[" ",`
`,"	"];return at.split(i,e)},comma(i){return at.split(i,[","],!0)}};var Tn=at;at.default=at;let Ln=je,va=Tn,Tt=class extends Ln{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return va.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var qr=Tt;Tt.default=Tt;Ln.registerRule(Tt);let ba=Zt,xa=wa,Ea=Jt,Sa=Zr,Aa=pt,zi=qr;const Mi={empty:!0,space:!0};function Oa(i){for(let e=i.length-1;e>=0;e--){let t=i[e],r=t[3]||t[2];if(r)return r}}let Ca=class{constructor(e){this.input=e,this.root=new Aa,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=xa(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}comment(e){let t=new Ea;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}emptyRule(e){let t=new zi;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,r=null,n=!1,s=null,o=[],a=e[1].startsWith("--"),l=[],u=e;for(;u;){if(r=u[0],l.push(u),r==="("||r==="[")s||(s=u),o.push(r==="("?")":"]");else if(a&&n&&r==="{")s||(s=u),o.push("}");else if(o.length===0)if(r===";")if(n){this.decl(l,a);return}else break;else if(r==="{"){this.rule(l);return}else if(r==="}"){this.tokenizer.back(l.pop()),t=!0;break}else r===":"&&(n=!0);else r===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&n){if(!a)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}rule(e){e.pop();let t=new zi;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let r=new ba;this.init(r,e[0][2]);let n=e[e.length-1];for(n[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(n[3]||n[2]||Oa(e));e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){r.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),r.raws.between+=s[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let o=[],a;for(;e.length&&(a=e[0][0],!(a!=="space"&&a!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(s=e[u],s[1].toLowerCase()==="!important"){r.important=!0;let f=this.stringFrom(e,u);f=this.spacesFromEnd(e)+f,f!==" !important"&&(r.raws.important=f);break}else if(s[1].toLowerCase()==="important"){let f=e.slice(0),c="";for(let d=u;d>0;d--){let h=f[d][0];if(c.trim().indexOf("!")===0&&h!=="space")break;c=f.pop()[1]+c}c.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=c,e=f)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=o.map(u=>u[1]).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t=new Sa;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,n,s,o=!1,a=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),this.semicolon=!0;break}else if(r==="{"){a=!0;break}else if(r==="}"){if(l.length>0){for(s=l.length-1,n=l[s];n&&n[0]==="space";)n=l[--s];n&&(t.source.end=this.getPosition(n[3]||n[2]))}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(t.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(t,"params",l),o&&(e=l[l.length-1],t.source.end=this.getPosition(e[3]||e[2]),this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),a&&(t.nodes=[],this.current=t)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}raw(e,t,r,n){let s,o,a=r.length,l="",u=!0,f,c;for(let d=0;d<a;d+=1)s=r[d],o=s[0],o==="space"&&d===a-1&&!n?u=!1:o==="comment"?(c=r[d-1]?r[d-1][0]:"empty",f=r[d+1]?r[d+1][0]:"empty",!Mi[c]&&!Mi[f]?l.slice(-1)===","?u=!1:l+=s[1]:u=!1):l+=s[1];if(!u){let d=r.reduce((h,p)=>h+p[1],"");e.raws[t]={value:l,raw:d}}e[t]=l}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}colon(e){let t=0,r,n,s;for(let[o,a]of e.entries()){if(r=a,n=r[0],n==="("&&(t+=1),n===")"&&(t-=1),t===0&&n===":")if(!s)this.doubleColon(r);else{if(s[0]==="word"&&s[1]==="progid")continue;return o}s=r}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,n;for(let s=t-1;s>=0&&(n=e[s],!(n[0]!=="space"&&(r+=1,r===2)));s--);throw this.input.error("Missed semicolon",n[0]==="word"?n[3]+1:n[2])}};var _a=Ca;let Da=je,Pa=_a,Ra=qt;function Lt(i,e){let t=new Ra(i,e),r=new Pa(t);try{r.parse()}catch(n){throw n}return r.root}var Jr=Lt;Lt.default=Lt;Da.registerParse(Lt);let{isClean:he,my:Fa}=dt,ka=Sn,$a=Ut,Na=je,Ia=Ur,Ti=Vr,ja=Jr,za=pt;const Ma={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},Ta={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},La={postcssPlugin:!0,prepare:!0,Once:!0},qe=0;function Ke(i){return typeof i=="object"&&typeof i.then=="function"}function Bn(i){let e=!1,t=Ma[i.type];return i.type==="decl"?e=i.prop.toLowerCase():i.type==="atrule"&&(e=i.name.toLowerCase()),e&&i.append?[t,t+"-"+e,qe,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:i.append?[t,qe,t+"Exit"]:[t,t+"Exit"]}function Li(i){let e;return i.type==="document"?e=["Document",qe,"DocumentExit"]:i.type==="root"?e=["Root",qe,"RootExit"]:e=Bn(i),{node:i,events:e,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function Ar(i){return i[he]=!1,i.nodes&&i.nodes.forEach(e=>Ar(e)),i}let Or={},$e=class{constructor(e,t,r){this.stringified=!1,this.processed=!1;let n;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))n=Ar(t);else if(t instanceof $e||t instanceof Ti)n=Ar(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let s=ja;r.syntax&&(s=r.syntax.parse),r.parser&&(s=r.parser),s.parse&&(s=s.parse);try{n=s(t,r)}catch(o){this.processed=!0,this.error=o}n&&!n[Fa]&&Na.rebuild(n)}this.result=new Ti(e,n,r),this.helpers={...Or,result:this.result,postcss:Or},this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?{...s,...s.prepare(this.result)}:s)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Ke(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[he];)e[he]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=$a;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new ka(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}walkSync(e){e[he]=!0;let t=Bn(e);for(let r of t)if(r===qe)e.nodes&&e.each(n=>{n[he]||this.walkSync(n)});else{let n=this.listeners[r];if(n&&this.visitSync(n,e.toProxy()))return}}visitSync(e,t){for(let[r,n]of e){this.result.lastPlugin=r;let s;try{s=n(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Ke(s))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return Ke(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(n){console&&console.error&&console.error(n)}return e}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(Ke(r))try{await r}catch(n){throw this.handleError(n)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[he];){e[he]=!0;let t=[Li(e)];for(;t.length>0;){let r=this.visitTick(t);if(Ke(r))try{await r}catch(n){let s=t[t.length-1].node;throw this.handleError(n,s)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let n=e.nodes.map(s=>r(s,this.helpers));await Promise.all(n)}else await r(e,this.helpers)}catch(n){throw this.handleError(n)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(t,r,n)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,n])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!Ta[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!La[r])if(typeof t[r]=="object")for(let n in t[r])n==="*"?e(t,r,t[r][n]):e(t,r+"-"+n.toLowerCase(),t[r][n]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:r,visitors:n}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(n.length>0&&t.visitorIndex<n.length){let[o,a]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return a(r.toProxy(),this.helpers)}catch(l){throw this.handleError(l,r)}}if(t.iterator!==0){let o=t.iterator,a;for(;a=r.nodes[r.indexes[o]];)if(r.indexes[o]+=1,!a[he]){a[he]=!0,e.push(Li(a));return}t.iterator=0,delete r.indexes[o]}let s=t.events;for(;t.eventIndex<s.length;){let o=s[t.eventIndex];if(t.eventIndex+=1,o===qe){r.nodes&&r.nodes.length&&(r[he]=!0,t.iterator=r.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}};$e.registerPostcss=i=>{Or=i};var Wn=$e;$e.default=$e;za.registerLazyResult($e);Ia.registerLazyResult($e);let Ba=Sn,Wa=Ut,Ua=Jr;const Va=Vr;let Cr=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let n,s=Wa;this.result=new Va(this._processor,n,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let a=new Ba(s,n,this._opts,t);if(a.isMap()){let[l,u]=a.generate();l&&(this.result.css=l),u&&(this.result.map=u)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let e,t=Ua;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}};var Za=Cr;Cr.default=Cr;let qa=Za,Ja=Wn,Ga=Ur,Ya=pt,lt=class{constructor(e=[]){this.version="8.4.21",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return this.plugins.length===0&&typeof t.parser>"u"&&typeof t.stringifier>"u"&&typeof t.syntax>"u"?new qa(this,e,t):new Ja(this,e,t)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}};var Ha=lt;lt.default=lt;Ya.registerProcessor(lt);Ga.registerProcessor(lt);let Xa=Zt,Ka=wn,Qa=Jt,el=Zr,tl=qt,rl=pt,il=qr;function ut(i,e){if(Array.isArray(i))return i.map(n=>ut(n));let{inputs:t,...r}=i;if(t){e=[];for(let n of t){let s={...n,__proto__:tl.prototype};s.map&&(s.map={...s.map,__proto__:Ka.prototype}),e.push(s)}}if(r.nodes&&(r.nodes=i.nodes.map(n=>ut(n,e))),r.source){let{inputId:n,...s}=r.source;r.source=s,n!=null&&(r.source.input=e[n])}if(r.type==="root")return new rl(r);if(r.type==="decl")return new Xa(r);if(r.type==="rule")return new il(r);if(r.type==="comment")return new Qa(r);if(r.type==="atrule")return new el(r);throw new Error("Unknown node type: "+i.type)}var nl=ut;ut.default=ut;let sl=Lr,Un=Zt,ol=Wn,al=je,Gr=Ha,ll=Ut,ul=nl,Vn=Ur,fl=Nn,Zn=Jt,qn=Zr,cl=Vr,hl=qt,dl=Jr,pl=Tn,Jn=qr,Gn=pt,ml=Vt;function j(...i){return i.length===1&&Array.isArray(i[0])&&(i=i[0]),new Gr(i)}j.plugin=function(e,t){let r=!1;function n(...o){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn(e+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let a=t(...o);return a.postcssPlugin=e,a.postcssVersion=new Gr().version,a}let s;return Object.defineProperty(n,"postcss",{get(){return s||(s=n()),s}}),n.process=function(o,a,l){return j([n(l)]).process(o,a)},n};j.stringify=ll;j.parse=dl;j.fromJSON=ul;j.list=pl;j.comment=i=>new Zn(i);j.atRule=i=>new qn(i);j.decl=i=>new Un(i);j.rule=i=>new Jn(i);j.root=i=>new Gn(i);j.document=i=>new Vn(i);j.CssSyntaxError=sl;j.Declaration=Un;j.Container=al;j.Processor=Gr;j.Document=Vn;j.Comment=Zn;j.Warning=fl;j.AtRule=qn;j.Result=cl;j.Input=hl;j.Rule=Jn;j.Root=Gn;j.Node=ml;ol.registerPostcss(j);var W=j;j.default=j;W.stringify;W.fromJSON;W.plugin;W.parse;W.list;W.document;W.comment;W.atRule;W.rule;W.decl;W.root;W.CssSyntaxError;W.Declaration;W.Container;W.Processor;W.Document;W.Comment;W.Warning;W.AtRule;W.Result;W.Input;W.Rule;W.Root;W.Node;const oi=class{constructor(){y(this,"root");y(this,"readString",async e=>await(await(await this.root.getFileHandle(e.fullPath)).getFile()).text());y(this,"readBytes",async e=>{let n=await(await(await this.root.getFileHandle(e.fullPath)).getFile()).arrayBuffer();return new Uint8Array(n)});y(this,"readObject",async e=>{let t=await this.readString(e);return JSON.parse(t)});y(this,"getFiles",async e=>(await(await this.root.getDirectoryHandle(e.fullPath)).resolve(this.root)).map(n=>Gt(n)));y(this,"writeString",async(e,t)=>{await(await this.root.getFileHandle(e.fullPath,{create:!0})).getFile()});y(this,"init",async()=>{let e=await navigator.storage.persist();return console.log(e?"Persistent data allowed":"Persist data denied"),this.root=await navigator.storage.getDirectory(),this})}};let or=oi;y(or,"INSTANCE",new oi);function Gt(i){let e=i.replace("\\","/");e.startsWith("/")&&(e=e.substring(1));let t=e.split("/");console.log(t.join("/"));let r=t[t.length-1];return{path:t,name:r,fullPath:t.join("/"),type:"file"}}function Yn(i){return{...Gt(i),type:"folder"}}function gl(i){Yr=i}let Yr;function Bi(i,e,t){const r=i.slice();return r[5]=e[t],r[7]=t,r}function yl(i){return{c:$,m:$,p:$,d:$}}function wl(i){let e=[],t=new Map,r,n=i[4];const s=o=>o[5].fullPath;for(let o=0;o<n.length;o+=1){let a=Bi(i,n,o),l=s(a);t.set(l,e[o]=Wi(l,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Wt()},m(o,a){for(let l=0;l<e.length;l+=1)e[l].m(o,a);F(o,r,a)},p(o,a){a&1&&(n=o[4],e=Tr(e,a,s,1,o,n,t,r.parentNode,un,Wi,r,Bi))},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&P(r)}}}function Wi(i,e){let t,r=e[5].fullPath+"",n;return{key:i,first:null,c(){t=C("span"),n=ve(r),E(t,"class","block pl-2 svelte-31v12b"),kt(t,"odd",e[7]%2===0),this.first=t},m(s,o){F(s,t,o),_(t,n)},p(s,o){e=s,o&1&&r!==(r=e[5].fullPath+"")&&ht(n,r),o&1&&kt(t,"odd",e[7]%2===0)},d(s){s&&P(t)}}}function vl(i){let e;return{c(){e=C("span"),e.textContent="loading..."},m(t,r){F(t,e,r)},p:$,d(t){t&&P(e)}}}function bl(i){let e,t,r,n,s,o,a={ctx:i,current:null,token:null,hasCatch:!1,pending:vl,then:wl,catch:yl,value:4};return ci(o=i[0],a),{c(){e=C("div"),t=C("div"),r=C("span"),r.textContent=`${Hn}`,n=B(),s=Wt(),a.block.c(),E(r,"class","text-sm"),E(t,"class","flex justify-center"),E(e,"class","bg-gray-800 border-b border-b-gray-700 pt-2 pb-2 mb-1 drop-shadow-xl")},m(l,u){F(l,e,u),_(e,t),_(t,r),F(l,n,u),F(l,s,u),a.block.m(l,a.anchor=u),a.mount=()=>s.parentNode,a.anchor=s},p(l,[u]){i=l,a.ctx=i,u&1&&o!==(o=i[0])&&ci(o,a)||Ws(a,i,u)},i:$,o:$,d(l){l&&P(e),l&&P(n),l&&P(s),a.block.d(l),a.token=null,a=null}}}let Hn="root";function xl(i,e,t){let r,{process:n}=e,{window:s}=e;return s.classes="bg-gray-900",s.title="Select a File",s.important=!0,s.controlButtons={maximize:!1,minimize:!1,close:!0},T.activeWindow=s,s.closeEvent.listen(()=>{s.returnNone()}),i.$$set=o=>{"process"in o&&t(2,n=o.process),"window"in o&&t(1,s=o.window)},t(0,r=Yr.getFiles(Yn(Hn))),[r,s,n]}class El extends Se{constructor(e){super(),Ee(this,e,xl,bl,me,{process:2,window:1})}}class Sl extends T{constructor(t,r){super(500,500,500,400,El);y(this,"promise");y(this,"resolve");y(this,"reject");y(this,"returnFile",t=>this.resolve(t));y(this,"returnNone",()=>this.reject("process exit"));y(this,"getFile",async()=>await this.promise);this.spawner=t,this.extensionMask=r,this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}}function Al(i){var se;let e,t,r,n,s,o,a,l,u,f,c,d,h,p,w,m,b,x,g,O=(((se=i[0])==null?void 0:se.fullPath)??"none")+"",k,S,R,v,A,U;return{c(){e=C("div"),t=C("span"),t.textContent="Remove process",r=B(),n=C("span"),n.textContent="Update color",s=B(),o=C("span"),o.textContent="Update title",a=B(),l=C("span"),l.textContent="Spawn another",u=B(),f=C("span"),f.textContent="Show error",c=B(),d=C("span"),d.textContent="Show unrecoverable error",h=B(),p=C("span"),p.textContent="Turn invisible temporarily",w=B(),m=C("span"),m.textContent="Open Chatroom",b=B(),x=C("span"),g=ve("Select File (selected: "),k=ve(O),S=ve(")"),R=B(),v=C("span"),v.textContent="Create example.txt",E(t,"class","link svelte-18apmpb"),E(n,"class","link svelte-18apmpb"),E(o,"class","link svelte-18apmpb"),E(l,"class","link svelte-18apmpb"),E(f,"class","link svelte-18apmpb"),E(d,"class","link svelte-18apmpb"),E(p,"class","link svelte-18apmpb"),E(m,"class","link svelte-18apmpb"),E(x,"class","link svelte-18apmpb"),E(v,"class","link svelte-18apmpb"),E(e,"class","pt-2 pl-3 options svelte-18apmpb")},m(X,ce){F(X,e,ce),_(e,t),_(e,r),_(e,n),_(e,s),_(e,o),_(e,a),_(e,l),_(e,u),_(e,f),_(e,c),_(e,d),_(e,h),_(e,p),_(e,w),_(e,m),_(e,b),_(e,x),_(x,g),_(x,k),_(x,S),_(e,R),_(e,v),A||(U=[Z(t,"click",i[1]),Z(n,"click",i[3]),Z(o,"click",i[4]),Z(l,"click",i[2]),Z(f,"click",i[5]),Z(d,"click",i[6]),Z(p,"click",i[7]),Z(m,"click",i[8]),Z(x,"click",i[9]),Z(v,"click",i[10])],A=!0)},p(X,[ce]){var te;ce&1&&O!==(O=(((te=X[0])==null?void 0:te.fullPath)??"none")+"")&&ht(k,O)},i:$,o:$,d(X){X&&P(e),A=!1,Ie(U)}}}function Ol(i,e,t){let{process:r}=e,{window:n}=e,s=r.options;n.icon=dn,n.style="background-color: "+s.backgroundColor;let o;ln(()=>{o=0});function a(){r.kill(),console.log("Process killed!")}const l=()=>{let x=ye.spawn(Yt);console.log("New process spawned!"),console.log(x),T.activeWindow=x.mainWindow},u=()=>{let x=["bg-red","bg-blue","bg-lime","bg-black"];t(11,n.classes=Eo(x),n),console.log("Color updated!")},f=()=>{o+=1,t(11,n.title=o.toString(),n),console.log("Title updated!")},c=()=>{r.error("User has initiated an error.",n)},d=()=>{r.crash("User has forced a crash.",n)},h=async()=>{t(11,n.isVisible=!1,n),await Ao(3e3),t(11,n.isVisible=!0,n)},p=async()=>{let x=ye.spawn(pn);T.activeWindow=x.mainWindow};let w;const m=async()=>{let x=T.spawn(new Sl(n,void 0),r);t(0,w=await x.getFile())},b=async()=>{await Yr.writeString(Gt(`example-${So(1e3)}.txt`),"hi!")};return i.$$set=x=>{"process"in x&&t(12,r=x.process),"window"in x&&t(11,n=x.window)},[w,a,l,u,f,c,d,h,p,m,b,n,r]}class Cl extends Se{constructor(e){super(),Ee(this,e,Ol,Al,me,{process:12,window:11})}}class Yt extends ie{constructor(){super("Console",Cl,dn)}}y(Yt,"defaultOptions",{backgroundColor:"#000000"});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bt=function(){return Bt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Bt.apply(this,arguments)};function _l(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t}function M(i,e,t,r){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(c){o(c)}}function l(f){try{u(r.throw(f))}catch(c){o(c)}}function u(f){f.done?s(f.value):n(f.value).then(a,l)}u((r=r.apply(i,e||[])).next())})}function z(i,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(f){u=[6,f],n=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Je=function(i){return typeof i=="string"||i instanceof String},Dl=new RegExp("^([A-Za-z]:|[A-Za-z0-9_-]+(.[A-Za-z0-9_-]+)*)((/[A-Za-z0-9_.-]+)+)$");function Pl(i){return Je(i)?Dl.test(i):!1}var ft=function(i,e){return M(void 0,void 0,void 0,function(){var t;return z(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i()];case 1:return[2,r.sent()];case 2:return t=r.sent(),e&&e(t),[3,3];case 3:return[2,null]}})})};function Rl(i){return!Je(i)||i.length===0?!1:i[0]==="/"}function Xn(i,e){for(var t=0,r=i.length-1;r>=0;r--){var n=i[r];n==="."?i.splice(r,1):n===".."?(i.splice(r,1),t++):t&&(i.splice(r,1),t--)}if(e)for(;t--;t)i.unshift("..");return i}var Fl=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Hr=function(i){return Fl.exec(i).slice(1)};function _r(){for(var i="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var r=t>=0?arguments[t]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;i=r+"/"+i,e=r.charAt(0)==="/"}return i=Xn(Xr(i.split("/"),function(n){return!!n}),!e).join("/"),(e?"/":"")+i||"."}function Kn(i){var e=Qn(i),t=Tl(i,-1)==="/";return i=Xn(Xr(i.split("/"),function(r){return!!r}),!e).join("/"),!i&&!e&&(i="."),i&&t&&(i+="/"),(e?"/":"")+i}function Qn(i){return i.charAt(0)==="/"}function kl(){var i=Array.prototype.slice.call(arguments,0);return Kn(Xr(i,function(e,t){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function $l(i,e){i=_r(i).substr(1),e=_r(e).substr(1);function t(u){for(var f=0;f<u.length&&u[f]==="";f++);for(var c=u.length-1;c>=0&&u[c]==="";c--);return f>c?[]:u.slice(f,c-f+1)}for(var r=t(i.split("/")),n=t(e.split("/")),s=Math.min(r.length,n.length),o=s,a=0;a<s;a++)if(r[a]!==n[a]){o=a;break}for(var l=[],a=o;a<r.length;a++)l.push("..");return l=l.concat(n.slice(o)),l.join("/")}var Nl="/",Il=":";function jl(i){var e=Hr(i),t=e[0],r=e[1];return!t&&!r?".":(r&&(r=r.substr(0,r.length-1)),t+r)}function zl(i,e){var t=Hr(i)[2];return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t}function Ml(i){return Hr(i)[3]}var Ht={extname:Ml,basename:zl,dirname:jl,sep:Nl,delimiter:Il,relative:$l,join:kl,isAbsolute:Qn,normalize:Kn,resolve:_r};function Xr(i,e){if(i.filter)return i.filter(e);for(var t=[],r=0;r<i.length;r++)e(i[r],r,i)&&t.push(i[r]);return t}var Tl="ab".substr(-1)==="b"?function(i,e,t){return i.substr(e,t)}:function(i,e,t){return e<0&&(e=i.length+e),i.substr(e,t)};function Ge(i,e){var t=Ht.dirname(i);return t==="."?e:t}function Ll(i){if(i.__esModule)return i;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach(function(t){var r=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return i[t]}})}),e}/*! https://mths.be/punycode v1.4.1 by @mathias */var ar=2147483647,it=36,es=1,Dr=26,Bl=38,Wl=700,Ul=72,Vl=128,Zl="-",ql=/[^\x20-\x7E]/,Jl=/[\x2E\u3002\uFF0E\uFF61]/g,Gl={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},lr=it-es,Te=Math.floor,ur=String.fromCharCode;function Ui(i){throw new RangeError(Gl[i])}function Yl(i,e){for(var t=i.length,r=[];t--;)r[t]=e(i[t]);return r}function Hl(i,e){var t=i.split("@"),r="";t.length>1&&(r=t[0]+"@",i=t[1]),i=i.replace(Jl,".");var n=i.split("."),s=Yl(n,e).join(".");return r+s}function Xl(i){for(var e=[],t=0,r=i.length,n,s;t<r;)n=i.charCodeAt(t++),n>=55296&&n<=56319&&t<r?(s=i.charCodeAt(t++),(s&64512)==56320?e.push(((n&1023)<<10)+(s&1023)+65536):(e.push(n),t--)):e.push(n);return e}function Vi(i,e){return i+22+75*(i<26)-((e!=0)<<5)}function Kl(i,e,t){var r=0;for(i=t?Te(i/Wl):i>>1,i+=Te(i/e);i>lr*Dr>>1;r+=it)i=Te(i/lr);return Te(r+(lr+1)*i/(i+Bl))}function Ql(i){var e,t,r,n,s,o,a,l,u,f,c,d=[],h,p,w,m;for(i=Xl(i),h=i.length,e=Vl,t=0,s=Ul,o=0;o<h;++o)c=i[o],c<128&&d.push(ur(c));for(r=n=d.length,n&&d.push(Zl);r<h;){for(a=ar,o=0;o<h;++o)c=i[o],c>=e&&c<a&&(a=c);for(p=r+1,a-e>Te((ar-t)/p)&&Ui("overflow"),t+=(a-e)*p,e=a,o=0;o<h;++o)if(c=i[o],c<e&&++t>ar&&Ui("overflow"),c==e){for(l=t,u=it;f=u<=s?es:u>=s+Dr?Dr:u-s,!(l<f);u+=it)m=l-f,w=it-f,d.push(ur(Vi(f+m%w,0))),l=Te(m/w);d.push(ur(Vi(l,0))),s=Kl(t,p,r==n),t=0,++r}++t,++e}return d.join("")}function eu(i){return Hl(i,function(e){return ql.test(e)?"xn--"+Ql(e):e})}function _t(i){return i===null}function tu(i){return i==null}function Kr(i){return typeof i=="string"}function ts(i){return typeof i=="object"&&i!==null}function ru(i,e){return Object.prototype.hasOwnProperty.call(i,e)}var rs=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function Qe(i){switch(typeof i){case"string":return i;case"boolean":return i?"true":"false";case"number":return isFinite(i)?i:"";default:return""}}function iu(i,e,t,r){return e=e||"&",t=t||"=",i===null&&(i=void 0),typeof i=="object"?Zi(nu(i),function(n){var s=encodeURIComponent(Qe(n))+t;return rs(i[n])?Zi(i[n],function(o){return s+encodeURIComponent(Qe(o))}).join(e):s+encodeURIComponent(Qe(i[n]))}).join(e):r?encodeURIComponent(Qe(r))+t+encodeURIComponent(Qe(i)):""}function Zi(i,e){if(i.map)return i.map(e);for(var t=[],r=0;r<i.length;r++)t.push(e(i[r],r));return t}var nu=Object.keys||function(i){var e=[];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(t);return e};function qi(i,e,t,r){e=e||"&",t=t||"=";var n={};if(typeof i!="string"||i.length===0)return n;var s=/\+/g;i=i.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=i.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=i[l].replace(s,"%20"),f=u.indexOf(t),c,d,h,p;f>=0?(c=u.substr(0,f),d=u.substr(f+1)):(c=u,d=""),h=decodeURIComponent(c),p=decodeURIComponent(d),ru(n,h)?rs(n[h])?n[h].push(p):n[h]=[n[h],p]:n[h]=p}return n}var su={parse:mt,resolve:ss,resolveObject:os,format:ns,Url:ue};function ue(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ou=/^([a-z0-9.+-]+:)/i,au=/:[0-9]*$/,lu=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,uu=["<",">",'"',"`"," ","\r",`
`,"	"],fu=["{","}","|","\\","^","`"].concat(uu),Pr=["'"].concat(fu),Ji=["%","/","?",";","#"].concat(Pr),Gi=["/","?","#"],cu=255,Yi=/^[+a-z0-9A-Z_-]{0,63}$/,hu=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,du={javascript:!0,"javascript:":!0},Rr={javascript:!0,"javascript:":!0},We={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function mt(i,e,t){if(i&&ts(i)&&i instanceof ue)return i;var r=new ue;return r.parse(i,e,t),r}ue.prototype.parse=function(i,e,t){return is(this,i,e,t)};function is(i,e,t,r){if(!Kr(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),s=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(s),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(s);var l=e;if(l=l.trim(),!r&&e.split("#").length===1){var u=lu.exec(l);if(u)return i.path=l,i.href=l,i.pathname=u[1],u[2]?(i.search=u[2],t?i.query=qi(i.search.substr(1)):i.query=i.search.substr(1)):t&&(i.search="",i.query={}),i}var f=ou.exec(l);if(f){f=f[0];var c=f.toLowerCase();i.protocol=c,l=l.substr(f.length)}if(r||f||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var d=l.substr(0,2)==="//";d&&!(f&&Rr[f])&&(l=l.substr(2),i.slashes=!0)}var h,p,w,m;if(!Rr[f]&&(d||f&&!We[f])){var b=-1;for(h=0;h<Gi.length;h++)p=l.indexOf(Gi[h]),p!==-1&&(b===-1||p<b)&&(b=p);var x,g;for(b===-1?g=l.lastIndexOf("@"):g=l.lastIndexOf("@",b),g!==-1&&(x=l.slice(0,g),l=l.slice(g+1),i.auth=decodeURIComponent(x)),b=-1,h=0;h<Ji.length;h++)p=l.indexOf(Ji[h]),p!==-1&&(b===-1||p<b)&&(b=p);b===-1&&(b=l.length),i.host=l.slice(0,b),l=l.slice(b),as(i),i.hostname=i.hostname||"";var O=i.hostname[0]==="["&&i.hostname[i.hostname.length-1]==="]";if(!O){var k=i.hostname.split(/\./);for(h=0,w=k.length;h<w;h++){var S=k[h];if(S&&!S.match(Yi)){for(var R="",v=0,A=S.length;v<A;v++)S.charCodeAt(v)>127?R+="x":R+=S[v];if(!R.match(Yi)){var U=k.slice(0,h),se=k.slice(h+1),X=S.match(hu);X&&(U.push(X[1]),se.unshift(X[2])),se.length&&(l="/"+se.join(".")+l),i.hostname=U.join(".");break}}}}i.hostname.length>cu?i.hostname="":i.hostname=i.hostname.toLowerCase(),O||(i.hostname=eu(i.hostname)),m=i.port?":"+i.port:"";var ce=i.hostname||"";i.host=ce+m,i.href+=i.host,O&&(i.hostname=i.hostname.substr(1,i.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!du[c])for(h=0,w=Pr.length;h<w;h++){var te=Pr[h];if(l.indexOf(te)!==-1){var Ae=encodeURIComponent(te);Ae===te&&(Ae=escape(te)),l=l.split(te).join(Ae)}}var oe=l.indexOf("#");oe!==-1&&(i.hash=l.substr(oe),l=l.slice(0,oe));var re=l.indexOf("?");if(re!==-1?(i.search=l.substr(re),i.query=l.substr(re+1),t&&(i.query=qi(i.query)),l=l.slice(0,re)):t&&(i.search="",i.query={}),l&&(i.pathname=l),We[c]&&i.hostname&&!i.pathname&&(i.pathname="/"),i.pathname||i.search){m=i.pathname||"";var Ye=i.search||"";i.path=m+Ye}return i.href=Qr(i),i}function ns(i){return Kr(i)&&(i=is({},i)),Qr(i)}function Qr(i){var e=i.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=i.protocol||"",r=i.pathname||"",n=i.hash||"",s=!1,o="";i.host?s=e+i.host:i.hostname&&(s=e+(i.hostname.indexOf(":")===-1?i.hostname:"["+this.hostname+"]"),i.port&&(s+=":"+i.port)),i.query&&ts(i.query)&&Object.keys(i.query).length&&(o=iu(i.query));var a=i.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),i.slashes||(!t||We[t])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),a=a.replace("#","%23"),t+s+r+a+n}ue.prototype.format=function(){return Qr(this)};function ss(i,e){return mt(i,!1,!0).resolve(e)}ue.prototype.resolve=function(i){return this.resolveObject(mt(i,!1,!0)).format()};function os(i,e){return i?mt(i,!1,!0).resolveObject(e):e}ue.prototype.resolveObject=function(i){if(Kr(i)){var e=new ue;e.parse(i,!1,!0),i=e}for(var t=new ue,r=Object.keys(this),n=0;n<r.length;n++){var s=r[n];t[s]=this[s]}if(t.hash=i.hash,i.href==="")return t.href=t.format(),t;if(i.slashes&&!i.protocol){for(var o=Object.keys(i),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(t[l]=i[l])}return We[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}var u;if(i.protocol&&i.protocol!==t.protocol){if(!We[i.protocol]){for(var f=Object.keys(i),c=0;c<f.length;c++){var d=f[c];t[d]=i[d]}return t.href=t.format(),t}if(t.protocol=i.protocol,!i.host&&!Rr[i.protocol]){for(u=(i.pathname||"").split("/");u.length&&!(i.host=u.shift()););i.host||(i.host=""),i.hostname||(i.hostname=""),u[0]!==""&&u.unshift(""),u.length<2&&u.unshift(""),t.pathname=u.join("/")}else t.pathname=i.pathname;if(t.search=i.search,t.query=i.query,t.host=i.host||"",t.auth=i.auth,t.hostname=i.hostname||i.host,t.port=i.port,t.pathname||t.search){var h=t.pathname||"",p=t.search||"";t.path=h+p}return t.slashes=t.slashes||i.slashes,t.href=t.format(),t}var w=t.pathname&&t.pathname.charAt(0)==="/",m=i.host||i.pathname&&i.pathname.charAt(0)==="/",b=m||w||t.host&&i.pathname,x=b,g=t.pathname&&t.pathname.split("/")||[],O=t.protocol&&!We[t.protocol];u=i.pathname&&i.pathname.split("/")||[],O&&(t.hostname="",t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host="",i.protocol&&(i.hostname=null,i.port=null,i.host&&(u[0]===""?u[0]=i.host:u.unshift(i.host)),i.host=null),b=b&&(u[0]===""||g[0]===""));var k;if(m)t.host=i.host||i.host===""?i.host:t.host,t.hostname=i.hostname||i.hostname===""?i.hostname:t.hostname,t.search=i.search,t.query=i.query,g=u;else if(u.length)g||(g=[]),g.pop(),g=g.concat(u),t.search=i.search,t.query=i.query;else if(!tu(i.search))return O&&(t.hostname=t.host=g.shift(),k=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,k&&(t.auth=k.shift(),t.host=t.hostname=k.shift())),t.search=i.search,t.query=i.query,(!_t(t.pathname)||!_t(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!g.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var S=g.slice(-1)[0],R=(t.host||i.host||g.length>1)&&(S==="."||S==="..")||S==="",v=0,A=g.length;A>=0;A--)S=g[A],S==="."?g.splice(A,1):S===".."?(g.splice(A,1),v++):v&&(g.splice(A,1),v--);if(!b&&!x)for(;v--;v)g.unshift("..");b&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),R&&g.join("/").substr(-1)!=="/"&&g.push("");var U=g[0]===""||g[0]&&g[0].charAt(0)==="/";return O&&(t.hostname=t.host=U?"":g.length?g.shift():"",k=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,k&&(t.auth=k.shift(),t.host=t.hostname=k.shift())),b=b||t.host&&g.length,b&&!U&&g.unshift(""),g.length?t.pathname=g.join("/"):(t.pathname=null,t.path=null),(!_t(t.pathname)||!_t(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=i.auth||t.auth,t.slashes=t.slashes||i.slashes,t.href=t.format(),t};ue.prototype.parseHost=function(){return as(this)};function as(i){var e=i.host,t=au.exec(e);t&&(t=t[0],t!==":"&&(i.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(i.hostname=e)}var pu=Object.freeze({__proto__:null,parse:mt,resolve:ss,resolveObject:os,format:ns,default:su,Url:ue}),ei=Ll(pu),H={},ls=ei,Fr=H.ValidationError=function(e,t,r,n,s,o){if(Array.isArray(n)?(this.path=n,this.property=n.reduce(function(l,u){return l+us(u)},"instance")):n!==void 0&&(this.property=n),e&&(this.message=e),r){var a=r.$id||r.id;this.schema=a||r}t!==void 0&&(this.instance=t),this.name=s,this.argument=o,this.stack=this.toString()};Fr.prototype.toString=function(){return this.property+" "+this.message};var Xt=H.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.options=r,this.path=n.path,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&r.disableFormat===!0};Xt.prototype.addError=function(e){var t;if(typeof e=="string")t=new Fr(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new Fr(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new Ne(this);if(this.throwError)throw t;return t};Xt.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)};function mu(i,e){return e+": "+i.toString()+`
`}Xt.prototype.toString=function(e){return this.errors.map(mu).join("")};Object.defineProperty(Xt.prototype,"valid",{get:function(){return!this.errors.length}});H.ValidatorResultError=Ne;function Ne(i){Error.captureStackTrace&&Error.captureStackTrace(this,Ne),this.instance=i.instance,this.schema=i.schema,this.options=i.options,this.errors=i.errors}Ne.prototype=new Error;Ne.prototype.constructor=Ne;Ne.prototype.name="Validation Error";var Hi=H.SchemaError=function i(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,i)};Hi.prototype=Object.create(Error.prototype,{constructor:{value:Hi,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var kr=H.SchemaContext=function(e,t,r,n,s){this.schema=e,this.options=t,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce(function(o,a){return o+us(a)},"instance")):this.propertyPath=r,this.base=n,this.schemas=s};kr.prototype.resolve=function(e){return ls.resolve(this.base,e)};kr.prototype.makeChild=function(e,t){var r=t===void 0?this.path:this.path.concat([t]),n=e.$id||e.id,s=ls.resolve(this.base,n||""),o=new kr(e,this.options,r,s,Object.create(this.schemas));return n&&!o.schemas[s]&&(o.schemas[s]=e),o};var le=H.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(i){return typeof i=="string"&&parseFloat(i)===parseInt(i,10)&&!isNaN(i)},regex:function(i){var e=!0;try{new RegExp(i)}catch{e=!1}return e},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};le.regexp=le.regex;le.pattern=le.regex;le.ipv4=le["ip-address"];H.isFormat=function(e,t,r){if(typeof e=="string"&&le[t]!==void 0){if(le[t]instanceof RegExp)return le[t].test(e);if(typeof le[t]=="function")return le[t](e)}else if(r&&r.customFormats&&typeof r.customFormats[t]=="function")return r.customFormats[t](e);return!0};var us=H.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};H.deepCompareStrict=function i(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:e.every(function(s,o){return i(e[o],t[o])});if(typeof e=="object"){if(!e||!t)return e===t;var r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:r.every(function(s){return i(e[s],t[s])})}return e===t};function gu(i,e,t,r){typeof t=="object"?e[r]=ti(i[r],t):i.indexOf(t)===-1&&e.push(t)}function yu(i,e,t){e[t]=i[t]}function wu(i,e,t,r){typeof e[r]!="object"||!e[r]?t[r]=e[r]:i[r]?t[r]=ti(i[r],e[r]):t[r]=e[r]}function ti(i,e){var t=Array.isArray(e),r=t&&[]||{};return t?(i=i||[],r=r.concat(i),e.forEach(gu.bind(null,i,r))):(i&&typeof i=="object"&&Object.keys(i).forEach(yu.bind(null,i,r)),Object.keys(e).forEach(wu.bind(null,i,e,r))),r}H.deepMerge=ti;H.objectGetPath=function(e,t){for(var r=t.split("/").slice(1),n;typeof(n=r.shift())=="string";){var s=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(s in e))return;e=e[s]}return e};function vu(i){return"/"+encodeURIComponent(i).replace(/~/g,"%7E")}H.encodePath=function(e){return e.map(vu).join("")};H.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;typeof e!="number"&&(e=Number(e));var r=e.toString().split("e");if(r.length===2){if(r[1][0]!=="-")return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return n.length===2&&(t+=n[1].length),t};H.isSchema=function(e){return typeof e=="object"&&e||typeof e=="boolean"};var ne=H,N=ne.ValidatorResult,Ce=ne.SchemaError,ri={};ri.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var I=ri.validators={};I.type=function(e,t,r,n){if(e===void 0)return null;var s=new N(e,t,r,n),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,r,n))){var a=o.map(function(l){if(l){var u=l.$id||l.id;return u?"<"+u+">":l+""}});s.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return s};function ii(i,e,t,r,n){var s=e.throwError,o=e.throwAll;e.throwError=!1,e.throwAll=!1;var a=this.validateSchema(i,n,e,t);return e.throwError=s,e.throwAll=o,!a.valid&&r instanceof Function&&r(a),a.valid}I.anyOf=function(e,t,r,n){if(e===void 0)return null;var s=new N(e,t,r,n),o=new N(e,t,r,n);if(!Array.isArray(t.anyOf))throw new Ce("anyOf must be an array");if(!t.anyOf.some(ii.bind(this,e,r,n,function(l){o.importErrors(l)}))){var a=t.anyOf.map(function(l,u){var f=l.$id||l.id;return f?"<"+f+">":l.title&&JSON.stringify(l.title)||l.$ref&&"<"+l.$ref+">"||"[subschema "+u+"]"});r.nestedErrors&&s.importErrors(o),s.addError({name:"anyOf",argument:a,message:"is not any of "+a.join(",")})}return s};I.allOf=function(e,t,r,n){if(e===void 0)return null;if(!Array.isArray(t.allOf))throw new Ce("allOf must be an array");var s=new N(e,t,r,n),o=this;return t.allOf.forEach(function(a,l){var u=o.validateSchema(e,a,r,n);if(!u.valid){var f=a.$id||a.id,c=f||a.title&&JSON.stringify(a.title)||a.$ref&&"<"+a.$ref+">"||"[subschema "+l+"]";s.addError({name:"allOf",argument:{id:c,length:u.errors.length,valid:u},message:"does not match allOf schema "+c+" with "+u.errors.length+" error[s]:"}),s.importErrors(u)}}),s};I.oneOf=function(e,t,r,n){if(e===void 0)return null;if(!Array.isArray(t.oneOf))throw new Ce("oneOf must be an array");var s=new N(e,t,r,n),o=new N(e,t,r,n),a=t.oneOf.filter(ii.bind(this,e,r,n,function(u){o.importErrors(u)})).length,l=t.oneOf.map(function(u,f){var c=u.$id||u.id;return c||u.title&&JSON.stringify(u.title)||u.$ref&&"<"+u.$ref+">"||"[subschema "+f+"]"});return a!==1&&(r.nestedErrors&&s.importErrors(o),s.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),s};I.if=function(e,t,r,n){if(e===void 0)return null;if(!ne.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var s=ii.call(this,e,r,n,null,t.if),o=new N(e,t,r,n),a;if(s){if(t.then===void 0)return;if(!ne.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(e,t.then,r,n.makeChild(t.then)),o.importErrors(a)}else{if(t.else===void 0)return;if(!ne.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(e,t.else,r,n.makeChild(t.else)),o.importErrors(a)}return o};function ni(i,e){if(Object.hasOwnProperty.call(i,e))return i[e];if(e in i){for(;i=Object.getPrototypeOf(i);)if(Object.propertyIsEnumerable.call(i,e))return i[e]}}I.propertyNames=function(e,t,r,n){if(this.types.object(e)){var s=new N(e,t,r,n),o=t.propertyNames!==void 0?t.propertyNames:{};if(!ne.isSchema(o))throw new Ce('Expected "propertyNames" to be a schema (object or boolean)');for(var a in e)if(ni(e,a)!==void 0){var l=this.validateSchema(a,o,r,n.makeChild(o));s.importErrors(l)}return s}};I.properties=function(e,t,r,n){if(this.types.object(e)){var s=new N(e,t,r,n),o=t.properties||{};for(var a in o){var l=o[a];if(l!==void 0){if(l===null)throw new Ce('Unexpected null, expected schema in "properties"');typeof r.preValidateProperty=="function"&&r.preValidateProperty(e,a,l,r,n);var u=ni(e,a),f=this.validateSchema(u,l,r,n.makeChild(l,a));f.instance!==s.instance[a]&&(s.instance[a]=f.instance),s.importErrors(f)}}return s}};function fs(i,e,t,r,n,s){if(this.types.object(i)&&!(e.properties&&e.properties[n]!==void 0))if(e.additionalProperties===!1)s.addError({name:"additionalProperties",argument:n,message:"is not allowed to have the additional property "+JSON.stringify(n)});else{var o=e.additionalProperties||{};typeof t.preValidateProperty=="function"&&t.preValidateProperty(i,n,o,t,r);var a=this.validateSchema(i[n],o,t,r.makeChild(o,n));a.instance!==s.instance[n]&&(s.instance[n]=a.instance),s.importErrors(a)}}I.patternProperties=function(e,t,r,n){if(this.types.object(e)){var s=new N(e,t,r,n),o=t.patternProperties||{};for(var a in e){var l=!0;for(var u in o){var f=o[u];if(f!==void 0){if(f===null)throw new Ce('Unexpected null, expected schema in "patternProperties"');try{var c=new RegExp(u,"u")}catch{c=new RegExp(u)}if(c.test(a)){l=!1,typeof r.preValidateProperty=="function"&&r.preValidateProperty(e,a,f,r,n);var d=this.validateSchema(e[a],f,r,n.makeChild(f,a));d.instance!==s.instance[a]&&(s.instance[a]=d.instance),s.importErrors(d)}}}l&&fs.call(this,e,t,r,n,a,s)}return s}};I.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var s=new N(e,t,r,n);for(var o in e)fs.call(this,e,t,r,n,o,s);return s}};I.minProperties=function(e,t,r,n){if(this.types.object(e)){var s=new N(e,t,r,n),o=Object.keys(e);return o.length>=t.minProperties||s.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),s}};I.maxProperties=function(e,t,r,n){if(this.types.object(e)){var s=new N(e,t,r,n),o=Object.keys(e);return o.length<=t.maxProperties||s.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),s}};I.items=function(e,t,r,n){var s=this;if(this.types.array(e)&&t.items){var o=new N(e,t,r,n);return e.every(function(a,l){var u=Array.isArray(t.items)?t.items[l]||t.additionalItems:t.items;if(u===void 0)return!0;if(u===!1)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var f=s.validateSchema(a,u,r,n.makeChild(u,l));return f.instance!==o.instance[l]&&(o.instance[l]=f.instance),o.importErrors(f),!0}),o}};I.minimum=function(e,t,r,n){if(this.types.number(e)){var s=new N(e,t,r,n);return t.exclusiveMinimum&&t.exclusiveMinimum===!0?e>t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),s}};I.maximum=function(e,t,r,n){if(this.types.number(e)){var s=new N(e,t,r,n);return t.exclusiveMaximum&&t.exclusiveMaximum===!0?e<t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),s}};I.exclusiveMinimum=function(e,t,r,n){if(typeof t.exclusiveMaximum!="boolean"&&this.types.number(e)){var s=new N(e,t,r,n),o=e>t.exclusiveMinimum;return o||s.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),s}};I.exclusiveMaximum=function(e,t,r,n){if(typeof t.exclusiveMaximum!="boolean"&&this.types.number(e)){var s=new N(e,t,r,n),o=e<t.exclusiveMaximum;return o||s.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),s}};var cs=function(e,t,r,n,s,o){if(this.types.number(e)){var a=t[s];if(a==0)throw new Ce(s+" cannot be zero");var l=new N(e,t,r,n),u=ne.getDecimalPlaces(e),f=ne.getDecimalPlaces(a),c=Math.max(u,f),d=Math.pow(10,c);return Math.round(e*d)%Math.round(a*d)!==0&&l.addError({name:s,argument:a,message:o+JSON.stringify(a)}),l}};I.multipleOf=function(e,t,r,n){return cs.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")};I.divisibleBy=function(e,t,r,n){return cs.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")};I.required=function(e,t,r,n){var s=new N(e,t,r,n);return e===void 0&&t.required===!0?s.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(o){ni(e,o)===void 0&&s.addError({name:"required",argument:o,message:"requires property "+JSON.stringify(o)})}),s};I.pattern=function(e,t,r,n){if(this.types.string(e)){var s=new N(e,t,r,n),o=t.pattern;try{var a=new RegExp(o,"u")}catch{a=new RegExp(o)}return e.match(a)||s.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),s}};I.format=function(e,t,r,n){if(e!==void 0){var s=new N(e,t,r,n);return!s.disableFormat&&!ne.isFormat(e,t.format,this)&&s.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),s}};I.minLength=function(e,t,r,n){if(this.types.string(e)){var s=new N(e,t,r,n),o=e.match(/[\uDC00-\uDFFF]/g),a=e.length-(o?o.length:0);return a>=t.minLength||s.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),s}};I.maxLength=function(e,t,r,n){if(this.types.string(e)){var s=new N(e,t,r,n),o=e.match(/[\uDC00-\uDFFF]/g),a=e.length-(o?o.length:0);return a<=t.maxLength||s.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),s}};I.minItems=function(e,t,r,n){if(this.types.array(e)){var s=new N(e,t,r,n);return e.length>=t.minItems||s.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),s}};I.maxItems=function(e,t,r,n){if(this.types.array(e)){var s=new N(e,t,r,n);return e.length<=t.maxItems||s.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),s}};function bu(i,e,t){var r,n=t.length;for(r=e+1,n;r<n;r++)if(ne.deepCompareStrict(i,t[r]))return!1;return!0}I.uniqueItems=function(e,t,r,n){if(t.uniqueItems===!0&&this.types.array(e)){var s=new N(e,t,r,n);return e.every(bu)||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}};I.dependencies=function(e,t,r,n){if(this.types.object(e)){var s=new N(e,t,r,n);for(var o in t.dependencies)if(e[o]!==void 0){var a=t.dependencies[o],l=n.makeChild(a,o);if(typeof a=="string"&&(a=[a]),Array.isArray(a))a.forEach(function(f){e[f]===void 0&&s.addError({name:"dependencies",argument:l.propertyPath,message:"property "+f+" not found, required by "+l.propertyPath})});else{var u=this.validateSchema(e,a,r,l);s.instance!==u.instance&&(s.instance=u.instance),u&&u.errors.length&&(s.addError({name:"dependencies",argument:l.propertyPath,message:"does not meet dependency required by "+l.propertyPath}),s.importErrors(u))}}return s}};I.enum=function(e,t,r,n){if(e===void 0)return null;if(!Array.isArray(t.enum))throw new Ce("enum expects an array",t);var s=new N(e,t,r,n);return t.enum.some(ne.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s};I.const=function(e,t,r,n){if(e===void 0)return null;var s=new N(e,t,r,n);return ne.deepCompareStrict(t.const,e)||s.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),s};I.not=I.disallow=function(e,t,r,n){var s=this;if(e===void 0)return null;var o=new N(e,t,r,n),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach(function(l){if(s.testType(e,t,r,n,l)){var u=l&&(l.$id||l.id),f=u||l;o.addError({name:"not",argument:f,message:"is of prohibited type "+f})}}),o):null};var xu=ri,si={},Xi=ei,Eu=H;si.SchemaScanResult=hs;function hs(i,e){this.id=i,this.ref=e}si.scan=function(e,t){function r(l,u){if(!(!u||typeof u!="object")){if(u.$ref){var f=Xi.resolve(l,u.$ref);a[f]=a[f]?a[f]+1:0;return}var c=u.$id||u.id,d=c?Xi.resolve(l,c):l;if(d){if(d.indexOf("#")<0&&(d+="#"),o[d]){if(!Eu.deepCompareStrict(o[d],u))throw new Error("Schema <"+d+"> already exists with different definition");return o[d]}o[d]=u,d[d.length-1]=="#"&&(o[d.substring(0,d.length-1)]=u)}n(d+"/items",Array.isArray(u.items)?u.items:[u.items]),n(d+"/extends",Array.isArray(u.extends)?u.extends:[u.extends]),r(d+"/additionalItems",u.additionalItems),s(d+"/properties",u.properties),r(d+"/additionalProperties",u.additionalProperties),s(d+"/definitions",u.definitions),s(d+"/patternProperties",u.patternProperties),s(d+"/dependencies",u.dependencies),n(d+"/disallow",u.disallow),n(d+"/allOf",u.allOf),n(d+"/anyOf",u.anyOf),n(d+"/oneOf",u.oneOf),r(d+"/not",u.not)}}function n(l,u){if(Array.isArray(u))for(var f=0;f<u.length;f++)r(l+"/"+f,u[f])}function s(l,u){if(!(!u||typeof u!="object"))for(var f in u)r(l+"/"+f,u[f])}var o={},a={};return r(e,t),new hs(o,a)};var ds=ei,ps=xu,ze=H,ms=si.scan,gs=ze.ValidatorResult,Su=ze.ValidatorResultError,ct=ze.SchemaError,ys=ze.SchemaContext,ws="/",Y=function i(){this.customFormats=Object.create(i.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(ge),this.attributes=Object.create(ps.validators)};Y.prototype.customFormats={};Y.prototype.schemas=null;Y.prototype.types=null;Y.prototype.attributes=null;Y.prototype.unresolvedRefs=null;Y.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=ms(t||ws,e),s=t||e.$id||e.id;for(var o in n.id)this.schemas[o]=n.id[o];for(var o in n.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter(function(a){return typeof r.schemas[a]>"u"}),this.schemas[s]};Y.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])};Y.prototype.addSubSchemaObject=function(e,t){if(!(!t||typeof t!="object"))for(var r in t)this.addSubSchema(e,t[r])};Y.prototype.setSchemas=function(e){this.schemas=e};Y.prototype.getSchema=function(e){return this.schemas[e]};Y.prototype.validate=function(e,t,r,n){if(typeof t!="boolean"&&typeof t!="object"||t===null)throw new ct("Expected `schema` to be an object or boolean");r||(r={});var s=t.$id||t.id,o=ds.resolve(r.base||ws,s||"");if(!n){n=new ys(t,r,[],o,Object.create(this.schemas)),n.schemas[o]||(n.schemas[o]=t);var a=ms(o,t);for(var l in a.id){var u=a.id[l];n.schemas[l]=u}}if(r.required&&e===void 0){var f=new gs(e,t,r,n);return f.addError("is required, but is undefined"),f}var f=this.validateSchema(e,t,r,n);if(f){if(r.throwAll&&f.errors.length)throw new Su(f)}else throw new Error("Result undefined");return f};function vs(i){var e=typeof i=="string"?i:i.$ref;return typeof e=="string"?e:!1}Y.prototype.validateSchema=function(e,t,r,n){var s=new gs(e,t,r,n);if(typeof t=="boolean")t===!0?t={}:t===!1&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var o={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,o)),t=o.schema,o.schema=null,o.ctx=null,o=null}else t=ze.deepMerge(t,this.superResolve(t.extends,n));var a=vs(t);if(a){var l=this.resolve(t,a,n),u=new ys(l.subschema,r,n.path,l.switchSchema,n.schemas);return this.validateSchema(e,l.subschema,r,u)}var f=r&&r.skipAttributes||[];for(var c in t)if(!ps.ignoreProperties[c]&&f.indexOf(c)<0){var d=null,h=this.attributes[c];if(h)d=h.call(this,e,t,r,n);else if(r.allowUnknownAttributes===!1)throw new ct("Unsupported attribute: "+c,t);d&&s.importErrors(d)}if(typeof r.rewrite=="function"){var p=r.rewrite.call(this,e,t,r,n);s.instance=p}return s};Y.prototype.schemaTraverser=function(e,t){e.schema=ze.deepMerge(e.schema,this.superResolve(t,e.ctx))};Y.prototype.superResolve=function(e,t){var r=vs(e);return r?this.resolve(e,r,t).subschema:e};Y.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var n=ds.parse(t),s=n&&n.hash,o=s&&s.length&&t.substr(0,t.length-s.length);if(!o||!r.schemas[o])throw new ct("no such schema <"+t+">",e);var a=ze.objectGetPath(r.schemas[o],s.substr(1));if(a===void 0)throw new ct("no such schema "+s+" located in <"+o+">",e);return{subschema:a,switchSchema:t}};Y.prototype.testType=function(e,t,r,n,s){if(s!==void 0){if(s===null)throw new ct('Unexpected null in "type" keyword');if(typeof this.types[s]=="function")return this.types[s].call(this,e);if(s&&typeof s=="object"){var o=this.validateSchema(e,s,r,n);return o===void 0||!(o&&o.errors.length)}return!0}};var ge=Y.prototype.types={};ge.string=function(e){return typeof e=="string"};ge.number=function(e){return typeof e=="number"&&isFinite(e)};ge.integer=function(e){return typeof e=="number"&&e%1===0};ge.boolean=function(e){return typeof e=="boolean"};ge.array=function(e){return Array.isArray(e)};ge.null=function(e){return e===null};ge.date=function(e){return e instanceof Date};ge.any=function(e){return!0};ge.object=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)};var Au=Y,Ou=Au,Cu=function(i,e,t){var r=new Ou;return r.validate(i,e,t)},fr="^[a-zA-Z0-9_.-]*$",_u={type:"object",id:"/CreateFsPropsSchema",properties:{databaseName:{minLength:4,maxLength:50,type:"string",pattern:fr},objectStoreName:{minLength:1,maxLength:20,type:"string",pattern:fr},rootDirectoryName:{minLength:1,maxLength:20,type:"string",pattern:fr},databaseVersion:{minimum:1,maximum:100,type:"integer"}},required:["databaseName","databaseVersion","objectStoreName","rootDirectoryName"]};function Du(i){var e=Cu(i,_u),t=e.valid,r=e.errors;if(t)return t;var n=JSON.stringify(r);throw new Error(`Props passed to createFS function are invalid:
`+n)}function Pu(i,e){if(!Je(i)||!Je(e)||e==="")return!1;var t=e+"/";return i.startsWith(t)}function Ru(i,e){if(i==="")return e;var t=Pu(i,e);if(!t){var r=Rl(i);return""+e+(r?"":"/")+i}return i}function G(i,e){if(!Je(e)||e==="")throw new Error("rootDirectoryName parameter was not provided");if(!Je(i))throw new Error("fullPath parameter was not provided");if(i===e)return e;var t=Ru(i,e);if(!t||!Pl(t))throw new Error('"'+i+'" path is invalid.');return t}var Fu=function(i){var e=i.result;return Boolean(e==null?void 0:e.createdAt)},ku=function(i){var e=i.getRecord,t=i.rootDirectoryName;return function(r){return M(void 0,void 0,void 0,function(){var n;return z(this,function(s){return n=G(r,t),[2,e(n,Fu)]})})}},$u=function(i){var e=i.exists,t=i.deleteRecord,r=i.rootDirectoryName;return function(n){return M(void 0,void 0,void 0,function(){var s,o;return z(this,function(a){switch(a.label){case 0:return s=G(n,r),[4,e(s)];case 1:if(o=a.sent(),!o)throw new Error('"'+s+'" file or directory does not exist.');return[2,t(s)]}})})}},Nu=function(i){var e=i.exists,t=i.isFile,r=i.isDirectory,n=i.fileDetails,s=i.directoryDetails,o=i.rootDirectoryName;return function(a){return M(void 0,void 0,void 0,function(){var l,u,f,c;return z(this,function(d){switch(d.label){case 0:return l=G(a,o),[4,e(l)];case 1:if(u=d.sent(),!u)throw new Error('"'+l+'" file or directory does not exist.');return[4,t(l)];case 2:return f=d.sent(),[4,r(l)];case 3:if(c=d.sent(),f&&c)throw new Error('"'+l+'" is a path of file and directory.');return f?[2,n(l)]:[2,s(l)]}})})}},xe;(function(i){i.FILE="file",i.DIRECTORY="directory"})(xe||(xe={}));var Iu=function(i){var e=i.result;return Boolean((e==null?void 0:e.type)===xe.FILE)},ju=function(i){var e=i.exists,t=i.getRecord,r=i.rootDirectoryName;return function(n){return M(void 0,void 0,void 0,function(){var s,o;return z(this,function(a){switch(a.label){case 0:return s=G(n,r),[4,e(s)];case 1:if(o=a.sent(),!o)throw new Error('"'+s+'" file does not exist.');return[2,t(s,Iu)]}})})}},zu=function(i){var e=i.isFile,t=i.exists,r=i.writeFile,n=i.isDirectory,s=i.fileDetails,o=i.rootDirectoryName;return function(a,l){return M(void 0,void 0,void 0,function(){var u,f,c,d,h,p,w;return z(this,function(m){switch(m.label){case 0:return u=G(a,o),f=G(l,o),[4,e(u)];case 1:if(c=m.sent(),!c)throw new Error('"'+u+'" source is not a file.');return d=Ge(f,o),[4,n(d)];case 2:if(h=m.sent(),!h)throw new Error('"'+d+'" destination directory does not exist.');return[4,t(f)];case 3:if(p=m.sent(),p)throw new Error('"'+f+'" is already taken.');return[4,s(u)];case 4:return w=m.sent(),[2,r(f,w.data)]}})})}},Mu=function(i){var e=i.fileDetails;return function(t){return M(void 0,void 0,void 0,function(){var r;return z(this,function(n){switch(n.label){case 0:return[4,e(t)];case 1:return r=n.sent(),[2,r.data]}})})}},Tu=function(i){var e=i.isFile,t=i.exists,r=i.removeFile,n=i.isDirectory,s=i.updateFileDetails,o=i.rootDirectoryName;return function(a,l){return M(void 0,void 0,void 0,function(){var u,f,c,d,h,p,w,m;return z(this,function(b){switch(b.label){case 0:return u=G(a,o),f=G(l,o),[4,e(u)];case 1:if(c=b.sent(),!c)throw new Error('"'+u+'" source is not a file.');return d=Ge(f,o),[4,n(d)];case 2:if(h=b.sent(),!h)throw new Error('"'+d+'" destination directory does not exist.');return[4,t(f)];case 3:if(p=b.sent(),p)throw new Error('"'+f+'" is already taken.');return w=Ht.basename(f),[4,s(u,{name:w,directory:d,fullPath:f})];case 4:return m=b.sent(),[4,r(u)];case 5:return b.sent(),[2,m]}})})}},Lu=function(i){var e=i.putRecord,t=i.isDirectory,r=i.rootDirectoryName;return function(n,s){return M(void 0,void 0,void 0,function(){var o,a,l,u,f,c;return z(this,function(d){switch(d.label){case 0:if(o=G(n,r),o===r)throw new Error('Root directory: "'+o+'" cannot be a file.');return a=Ht.basename(o),l=Ge(o,r),[4,t(l)];case 1:if(u=d.sent(),!u)throw new Error('"'+l+'" directory does not exist.');return[4,ft(function(){return t(o)},function(){return!1})];case 2:if(f=d.sent(),f)throw new Error('"'+o+'" you cannot create a file with the same name as the directory.');return c={data:s,directory:l,name:a,type:xe.FILE,createdAt:Date.now(),fullPath:o},[2,e(c)]}})})}},Bu=function(i){var e=i.isFile,t=i.exists,r=i.removeFile,n=i.updateFileDetails,s=i.rootDirectoryName;return function(o,a){return M(void 0,void 0,void 0,function(){var l,u,f,c,d,h;return z(this,function(p){switch(p.label){case 0:return l=G(o,s),[4,e(l)];case 1:if(u=p.sent(),!u)throw new Error('"'+l+'" is not a file.');return f=Ge(l,s),c=f+"/"+a,[4,t(c)];case 2:if(d=p.sent(),d)throw new Error('"'+c+'" is already taken.');return[4,n(l,{name:a,fullPath:c})];case 3:return h=p.sent(),[4,r(l)];case 4:return p.sent(),[2,h]}})})}},Wu=function(i){var e=i.isFile,t=i.deleteRecord,r=i.rootDirectoryName;return function(n){return M(void 0,void 0,void 0,function(){var s,o;return z(this,function(a){switch(a.label){case 0:return s=G(n,r),[4,e(s)];case 1:if(o=a.sent(),!o)throw new Error('"'+s+'" is not a file.');return[2,t(s)]}})})}},Uu=function(i){var e=i.result;return Boolean((e==null?void 0:e.type)===xe.DIRECTORY)},Vu=function(i){var e=i.exists,t=i.getRecord,r=i.rootDirectoryName;return function(n){return M(void 0,void 0,void 0,function(){var s,o;return z(this,function(a){switch(a.label){case 0:return s=G(n,r),[4,e(s)];case 1:if(o=a.sent(),!o)throw new Error('"'+s+'" directory does not exist.');return[2,t(s,Uu)]}})})}},Zu=function(i){var e=i.result;return e},qu=function(i){var e=i.isFile,t=i.getRecord,r=i.rootDirectoryName;return function(n){return M(void 0,void 0,void 0,function(){var s,o;return z(this,function(a){switch(a.label){case 0:return s=G(n,r),[4,e(s)];case 1:if(o=a.sent(),!o)throw new Error('"'+s+'" is not a file.');return[2,t(s,Zu)]}})})}},Ju=function(i){var e=i.openCursor,t=i.isDirectory,r=i.rootDirectoryName;return function(n){return M(void 0,void 0,void 0,function(){var s,o,a,l,u;return z(this,function(f){switch(f.label){case 0:return s=G(n,r),[4,t(n)];case 1:if(o=f.sent(),!o)throw new Error('"'+s+'" is not a directory.');return a=[],l=[],u=function(c,d){var h=c.result;if(h){var p=h.value;if(p.type===xe.FILE){p.data;var w=_l(p,["data"]);a.push(w)}else p.type===xe.DIRECTORY&&!p.isRoot&&l.push(p);h.continue()}else{var m=a.length,b=l.length,x=m===0&&b===0;d({isEmpty:x,filesCount:m,directoriesCount:b,files:a,directories:l})}},[2,e(s,u)]}})})}},Gu=function(i){var e=i.isFile,t=i.putRecord,r=i.isDirectory,n=i.rootDirectoryName;return function(s){return M(void 0,void 0,void 0,function(){var o,a,l,u,f,c;return z(this,function(d){switch(d.label){case 0:if(o=G(s,n),o===n)throw new Error('Root directory: "'+o+'" already exist.');return a=Ht.basename(o),l=Ge(o,n),[4,r(l)];case 1:if(u=d.sent(),!u)throw new Error('"'+l+'" is not a directory.');return[4,ft(function(){return e(o)},function(){return!1})];case 2:if(f=d.sent(),f)throw new Error('"'+o+'" you cannot create a directory with the same name as the file.');return c={directory:l,isRoot:!1,name:a,createdAt:Date.now(),type:xe.DIRECTORY,fullPath:o},[2,t(c)]}})})}},Yu=function(i){var e=i.remove,t=i.isDirectory,r=i.readDirectory,n=i.rootDirectoryName;function s(o){return M(this,void 0,void 0,function(){var a,l,u,f,c,d,h,p,w,m,b,x,g;return z(this,function(O){switch(O.label){case 0:return a=G(o,n),[4,r(a)];case 1:if(l=O.sent(),u=l.files,f=l.filesCount,c=l.directories,d=l.directoriesCount,!(f>0))return[3,5];h=0,p=u,O.label=2;case 2:return h<p.length?(w=p[h],[4,e(w.fullPath)]):[3,5];case 3:O.sent(),O.label=4;case 4:return h++,[3,2];case 5:return d?[3,7]:[4,e(o)];case 6:return O.sent(),[2];case 7:m=function(k){return z(this,function(S){switch(S.label){case 0:return k.isRoot?[3,2]:[4,s(k.fullPath)];case 1:S.sent(),S.label=2;case 2:return[4,ft(function(){return e(k.fullPath)})];case 3:return S.sent(),[2]}})},b=0,x=c,O.label=8;case 8:return b<x.length?(g=x[b],[5,m(g)]):[3,11];case 9:O.sent(),O.label=10;case 10:return b++,[3,8];case 11:return[2]}})})}return function(a){return M(this,void 0,void 0,function(){var l;return z(this,function(u){switch(u.label){case 0:return[4,t(a)];case 1:if(l=u.sent(),!l)throw new Error('"'+a+'" is not a directory.');return[4,s(a)];case 2:return u.sent(),a===n?[3,4]:[4,ft(function(){return e(a)})];case 3:u.sent(),u.label=4;case 4:return[2]}})})}},Hu=function(i){var e=i.result;return e},Xu=function(i){var e=i.getRecord,t=i.isDirectory,r=i.rootDirectoryName;return function(n){return M(void 0,void 0,void 0,function(){var s,o;return z(this,function(a){switch(a.label){case 0:return s=G(n,r),[4,t(n)];case 1:if(o=a.sent(),!o)throw new Error('"'+s+'" is not a directory.');return[2,e(s,Hu)]}})})}},Ku=function(i){var e=i.putRecord,t=i.isDirectory,r=i.fileDetails,n=i.rootDirectoryName;return function(s,o){return M(void 0,void 0,void 0,function(){var a,l,u,f,c,d;return z(this,function(h){switch(h.label){case 0:if(a=G(s,n),a===n)throw new Error('Root directory: "'+a+'" cannot be updated.');return l=Ge(a,n),[4,t(l)];case 1:if(u=h.sent(),!u)throw new Error('"'+l+'" is not a directory.');return[4,ft(function(){return t(a)},function(){return!1})];case 2:if(f=h.sent(),f)throw new Error('"'+a+'" you cannot update a directory.');return[4,r(a)];case 3:return c=h.sent(),d=Bt(Bt({},c),o),[2,e(d)]}})})}},Qu=function(i){var e=i.putRecord,t=i.rootDirectoryName;return function(){return M(void 0,void 0,void 0,function(){var r;return z(this,function(n){return r={isRoot:!0,createdAt:Date.now(),name:t,type:xe.DIRECTORY,fullPath:t,directory:t},[2,e(r)]})})}},ef=function(i){var e=i.databaseName,t=i.databaseVersion,r=i.objectStoreName,n=ff({databaseName:e,databaseVersion:t,objectStoreName:r}),s=of({initializeObjectStore:n}),o=sf({initializeObjectStore:n}),a=af({initializeObjectStore:n}),l=lf({initializeObjectStore:n});return{getRecord:s,putRecord:o,openCursor:a,deleteRecord:l}},tf="fullPath",$r="directory";function Ki(i){if(!i)return null;var e=i;return e.result}function Qi(i,e){e||i(new Error("Something went wrong and the database transaction was not opened."))}var rf=function(i){var e=i.databaseName,t=i.databaseVersion,r=i.objectStoreName;return new Promise(function(n,s){var o=uf(e,t);o.onerror=s,o.onsuccess=function(a){var l=a.target,u=Ki(l);Qi(s,u),n(u)},o.onupgradeneeded=function(a){var l=a.target,u=Ki(l);Qi(s,u);var f=u.createObjectStore(r,{keyPath:tf});f.createIndex($r,$r,{unique:!1})}})},nf=function(){return Boolean(indexedDB)},sf=function(i){var e=i.initializeObjectStore;return function(t){return M(void 0,void 0,void 0,function(){var r;return z(this,function(n){switch(n.label){case 0:return[4,e("readwrite")];case 1:return r=n.sent(),[2,new Promise(function(s,o){var a=r.put(t);a.onerror=o,a.onsuccess=function(){return s(t)}})]}})})}},of=function(i){var e=i.initializeObjectStore;return function(t,r){return M(void 0,void 0,void 0,function(){var n;return z(this,function(s){switch(s.label){case 0:return[4,e("readonly")];case 1:return n=s.sent(),[2,new Promise(function(o,a){var l=n.get(t);l.onerror=a,l.onsuccess=function(u){return o(r(u==null?void 0:u.target))}})]}})})}},af=function(i){var e=i.initializeObjectStore;return function(t,r){return M(void 0,void 0,void 0,function(){var n,s,o,a;return z(this,function(l){switch(l.label){case 0:return[4,e("readonly")];case 1:return n=l.sent(),s=n.index($r),o=IDBKeyRange.only(t),a=s.openCursor(o),[2,new Promise(function(u,f){a.onerror=f,a.onsuccess=function(c){var d=c.target;return r(d,u)}})]}})})}},lf=function(i){var e=i.initializeObjectStore;return function(t){return M(void 0,void 0,void 0,function(){var r;return z(this,function(n){switch(n.label){case 0:return[4,e("readwrite")];case 1:return r=n.sent(),[2,new Promise(function(s,o){var a=r.delete(t);a.onerror=o,a.onsuccess=function(){return s()}})]}})})}},uf=function(i,e){return indexedDB.open(i,e)},ff=function(i){var e=i.databaseName,t=i.databaseVersion,r=i.objectStoreName;return function(n){return M(void 0,void 0,void 0,function(){var s,o;return z(this,function(a){switch(a.label){case 0:return[4,rf({databaseName:e,databaseVersion:t,objectStoreName:r})];case 1:return s=a.sent(),o=s.transaction(r,n),[2,o.objectStore(r)]}})})}},et={databaseVersion:1,objectStoreName:"files",rootDirectoryName:"root",databaseName:"indexeddb-fs"};function bs(i){var e=this,t=i===void 0?et:i,r=t.databaseName,n=r===void 0?et.databaseName:r,s=t.databaseVersion,o=s===void 0?et.databaseVersion:s,a=t.objectStoreName,l=a===void 0?et.objectStoreName:a,u=t.rootDirectoryName,f=u===void 0?et.rootDirectoryName:u;function c(){d(),h()}function d(){if(!nf())throw new Error("Your browser does not support indexedDB.")}function h(){Du({databaseName:n,objectStoreName:l,databaseVersion:o,rootDirectoryName:f})}var p=ef({databaseName:n,databaseVersion:o,objectStoreName:l}),w=p.getRecord,m=p.putRecord,b=p.openCursor,x=p.deleteRecord,g=ku({getRecord:w,rootDirectoryName:f}),O=ju({exists:g,getRecord:w,rootDirectoryName:f}),k=$u({exists:g,deleteRecord:x,rootDirectoryName:f}),S=qu({isFile:O,getRecord:w,rootDirectoryName:f}),R=Mu({fileDetails:S}),v=Wu({isFile:O,deleteRecord:x,rootDirectoryName:f}),A=Vu({exists:g,getRecord:w,rootDirectoryName:f}),U=Lu({putRecord:m,isDirectory:A,rootDirectoryName:f}),se=zu({exists:g,isFile:O,writeFile:U,fileDetails:S,isDirectory:A,rootDirectoryName:f}),X=Ju({openCursor:b,isDirectory:A,rootDirectoryName:f}),ce=Gu({isFile:O,putRecord:m,isDirectory:A,rootDirectoryName:f}),te=Yu({remove:k,isDirectory:A,readDirectory:X,rootDirectoryName:f}),Ae=Xu({getRecord:w,isDirectory:A,rootDirectoryName:f}),oe=Nu({isFile:O,exists:g,isDirectory:A,fileDetails:S,directoryDetails:Ae,rootDirectoryName:f}),re=Ku({putRecord:m,fileDetails:S,isDirectory:A,rootDirectoryName:f}),Ye=Tu({exists:g,isFile:O,removeFile:v,isDirectory:A,updateFileDetails:re,rootDirectoryName:f}),Kt=Bu({exists:g,isFile:O,removeFile:v,updateFileDetails:re,rootDirectoryName:f}),Qt=Qu({putRecord:m,rootDirectoryName:f});function er(){return M(this,void 0,void 0,function(){var D;return z(this,function(V){switch(V.label){case 0:return[4,g(f)];case 1:return D=V.sent(),D?[3,3]:[4,Qt()];case 2:V.sent(),V.label=3;case 3:return[2]}})})}var q=function(D){return function(){for(var V=[],Oe=0;Oe<arguments.length;Oe++)V[Oe]=arguments[Oe];return M(e,void 0,void 0,function(){return z(this,function(_e){switch(_e.label){case 0:return[4,er()];case 1:return _e.sent(),[2,D.apply(void 0,V)]}})})}};return c(),{databaseName:n,databaseVersion:o,objectStoreName:l,rootDirectoryName:f,exists:q(g),isFile:q(O),remove:q(k),details:q(oe),copyFile:q(se),readFile:q(R),moveFile:q(Ye),writeFile:q(U),renameFile:q(Kt),removeFile:q(v),fileDetails:q(S),isDirectory:q(A),readDirectory:q(X),createDirectory:q(ce),removeDirectory:q(te),directoryDetails:q(Ae)}}bs();const Q=bs({databaseVersion:1,objectStoreName:"files",rootDirectoryName:"root",databaseName:"filesystem"});class cf{constructor(){y(this,"exists",async e=>await Q.exists(e.fullPath));y(this,"copy",async(e,t)=>{await Q.copyFile(e.fullPath,t.fullPath)});y(this,"createFile",async e=>{await Q.writeFile(e.fullPath,"")});y(this,"createFolder",async(e,t)=>{await Q.createDirectory(e.fullPath)});y(this,"getFiles",async e=>{let t=await Q.readDirectory(e.fullPath);return[...t.files.map(r=>Gt(r.fullPath)),...t.directories.map(r=>Yn(r.fullPath))]});y(this,"getMetadata",async e=>{let t=await Q.fileDetails(e.fullPath);return{lastModified:new Date(t.createdAt),size:async()=>(await Q.readFile(e.fullPath)).byteLength}});y(this,"readBytes",async e=>await Q.readFile(e.fullPath));y(this,"readObject",async e=>await Q.readFile(e.fullPath));y(this,"readString",async e=>await Q.readFile(e.fullPath));y(this,"writeBytes",async(e,t)=>{await Q.writeFile(e.fullPath,t)});y(this,"writeObject",async(e,t)=>{await Q.writeFile(e.fullPath,t)});y(this,"writeString",async(e,t)=>{await Q.writeFile(e.fullPath,t)});y(this,"deleteFile",async e=>Q.removeFile(e.fullPath));y(this,"deleteFolder",async e=>{await Q.removeDirectory(e.fullPath)})}}new xo({target:document.getElementById("app")});try{let i=new cf;gl(i)}catch(i){console.error("Unable to initialize filesystem.",i)}ie.registerApp(new Yt);ie.registerApp(new pn);ye.spawn(Yt,{backgroundColor:"#1a1d1e"});
